<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Sigma-Delta Analog Digital Converter (SDADC)" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="sigma-delta-analog-digital-converter-sdadc" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Sigma-Delta Analog Digital Converter (SDADC)</title>
<meta name="Microsoft.Help.Id" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8-sigma-delta-analog-digital-converter-sdadc" />
<meta name="Microsoft.Help.TocParent" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Peripheral Libraries Reference A 09/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-67D47E4E-A9CC-4485-9552-A56F2E6825A3"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="sigma-delta-analog-digital-converter-sdadc">
<h1 class="title topictitle1" id="ariaid-title1">Sigma-Delta Analog Digital Converter (SDADC)</h1><div class="body"><p class="p"><span class="undefined_element">The Sigma-Delta Analog-to-Digital Converter (SDADC)
converts analog signals to digital values. This peripheral provides
below features:</span></p>
<ul class="ul"><li class="li"><p class="p"><span class="undefined_element">16bit resolution</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element"> Up to 1,500,000 divided by Over Sampling Ratio
(OSR) samples per second</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Three analog differential inputs</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Conversion Range:</span></p>
<ul class="ul"><li class="li"><p class="p"><span class="undefined_element">Differential mode: VREF to +VREF</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Singleended mode: 0V to +VREF</span></p>
</li>
</ul>
</li>
<li class="li"><p class="p"><span class="undefined_element">Signed results</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Eventtriggered conversion (one event input)</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Optional DMA transfer of conversion settings or result</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Single, continuous and sequencing options</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Hardware gain, offset and shift compensation</span></p>
</li>
<li class="li"><p class="p"><span class="undefined_element">Windowing monitor</span></p>
</li>
</ul>
<p class="p"><strong class="ph b">Using The Library</strong></p>
<p class="p">SDADC converts enabled channel on software or hardware triggers. It
provides both polling and callback methods to indicate the end of
conversion to read the converted data from the result register.</p>
<ul class="ul"><li class="li"><p class="p">With polling, the application will need to continuously poll to
check if the conversion is completed.</p>
</li>
<li class="li"><p class="p">With callback, the registered callback function will be called once
the conversion is completed. This means the application do not have to
poll continuously.</p>
</li>
</ul>
<p class="p"><strong class="ph b">Callback method</strong></p>
<p class="p">This example demonstrates how to read conversion result in the callback function.
One channel is enabled and configured to start conversion on hardware trigger.</p>
<pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d613176e80', this);">Copy</button><code id="d613176e80" content="int16_t result;&#xA;&#xA;/* This function is called after conversion of last channel in&#xA;the user sequence */&#xA;&#xA;void SDADC_EventHandler(SDADC_STATUS status, uintptr_t context)&#xA;&#xA;{&#xA;&#xA; result = SDADC_ConversionResultGet();&#xA;&#xA;}&#xA;&#xA;&#xA;&#xA;int main(void)&#xA;&#xA;{&#xA;&#xA; /* Register callback function for SDADC end of conversion&#xA;interrupt*/&#xA;&#xA; SDADC_CallbackRegister(SDADC_EventHandler, (uintptr_t)NULL);&#xA;&#xA;&#xA;&#xA;while(true)&#xA;&#xA;{&#xA;&#xA;&#xA;&#xA;}&#xA;&#xA;}">int16_t result<span class="ph token punctuation">;</span>

<span class="ph token comment">/* This function is called after conversion of last channel in
the user sequence */</span>

<span class="ph token keyword">void</span> <span class="ph token function">SDADC_EventHandler</span><span class="ph token punctuation">(</span>SDADC_STATUS status<span class="ph token punctuation">,</span> uintptr_t context<span class="ph token punctuation">)</span>

<span class="ph token punctuation">{</span>

 result <span class="ph token operator">=</span> <span class="ph token function">SDADC_ConversionResultGet</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

<span class="ph token punctuation">}</span>



<span class="ph token keyword">int</span> <span class="ph token function">main</span><span class="ph token punctuation">(</span><span class="ph token keyword">void</span><span class="ph token punctuation">)</span>

<span class="ph token punctuation">{</span>

 <span class="ph token comment">/* Register callback function for SDADC end of conversion
interrupt*/</span>

 <span class="ph token function">SDADC_CallbackRegister</span><span class="ph token punctuation">(</span>SDADC_EventHandler<span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span>uintptr_t<span class="ph token punctuation">)</span><span class="ph token constant">NULL</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>



<span class="ph token keyword">while</span><span class="ph token punctuation">(</span>true<span class="ph token punctuation">)</span>

<span class="ph token punctuation">{</span>



<span class="ph token punctuation">}</span>

<span class="ph token punctuation">}</span></code></pre><p class="p"><strong class="ph b">Polling method</strong></p>
<p class="p">This example demonstrates how to start conversion and read the
converted data in polled mode. One channel is enabled and configured to
start conversion on software trigger.</p>
<pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d613176e184', this);">Copy</button><code id="d613176e184" content="/* Start conversion */&#xA;&#xA;SDADC_ConversionStart();&#xA;&#xA;&#xA;&#xA;/* Wait till ADC conversion result is available */&#xA;&#xA;while(!SDADC_ConversionResultIsReady(CH0))&#xA;&#xA;{&#xA;&#xA;&#xA;&#xA;};&#xA;&#xA;&#xA;&#xA;/* Read the ADC result */&#xA;&#xA;result = SDADC_ConversionResultGet();"><span class="ph token comment">/* Start conversion */</span>

<span class="ph token function">SDADC_ConversionStart</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>



<span class="ph token comment">/* Wait till ADC conversion result is available */</span>

<span class="ph token keyword">while</span><span class="ph token punctuation">(</span><span class="ph token operator">!</span><span class="ph token function">SDADC_ConversionResultIsReady</span><span class="ph token punctuation">(</span>CH0<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span>

<span class="ph token punctuation">{</span>



<span class="ph token punctuation">}</span><span class="ph token punctuation">;</span>



<span class="ph token comment">/* Read the ADC result */</span>

result <span class="ph token operator">=</span> <span class="ph token function">SDADC_ConversionResultGet</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span></code></pre><p class="p"><strong class="ph b">Library Interface</strong></p>
<p class="p">Sigma-Delta Analog Digital Converter peripheral library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d613176e255"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d613176e257"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_Initialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Initializes given instance of SDADC peripheral</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_Enable</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Enables the SDADC module</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_Disable</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Disables the SDADC module</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_ConversionStart</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Starts the SDADC conversion with the software trigger</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_ConversionResultIsReady</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Returns the status of the conversion</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_ConversionResultGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Returns the conversion result</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_ConversionSequenceIsFinished</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Returns the status of automatic sequence conversion</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_WindowMonitorIsSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Returns the status of the window monitor</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_ComparisonWindowSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Returns the status of automatic sequence conversion</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e255 "><span>SDADC_CallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e257 "><span>Registers the function to be called from interrupt</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d613176e320"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d613176e322"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d613176e324"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e320 "><span>SDADC_CALLBACK_OBJECT</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e322 "><span>Struct</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e324 "><span>Callback structure</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e320 "><span>SDADC_STATUS</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e322 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e324 "><span>Identifies interrupt status flags</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e320 "><span>SDADC_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e322 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d613176e324 "><span>Defines the function pointer data type and function signature for the SDADC peripheral callback function</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</body>
</html>