# CANx\_CallbackRegister Function

**Parent topic:**[Controller Area Network \(CAN\)](GUID-87A954BC-99B5-448D-BC6D-4C2250A9B58E.md)

**Parent topic:**[Controller Area Network \(CAN\)](GUID-9E2CB6D3-5052-4DCE-9DD7-68CC12674833.md)

## C

The prototype of CANx\_CallbackRegister\(\) varies based on device family. Refer to the generated header file for the actual prototype to be used.

```c
void CANx_CallbackRegister(CAN_CALLBACK callback, uintptr_t contextHandle, uint8_t fifoNum) // x - Instance of the CAN peripheral

void CANx_CallbackRegister(CANFD_CALLBACK callback, uintptr_t contextHandle, uint8_t fifoQueueNum) // x - Instance of the CAN peripheral
```

## Summary

Sets the pointer to the function \(and it's context\) to be called when the given CAN's transfer events occur.

## Description

This routine sets the pointer to the function \(and it's context\) to be called when the given CAN's transfer events occur.

## Precondition

CANx\_Initialize must have been called for the associated CAN instance.

## Parameters

|Param|Description|
|-----|-----------|
|callback|A pointer to a function with a calling signature definedby the callback data type.|
|contextHandle|A value \(usually a pointer\) passed \(unused\) into the functionidentified by the callback parameter.|
|fifoNum|Tx/Rx FIFO number|
|fifoQueueNum|Tx Queue or Tx/Rx FIFO number|

## Returns

None.

## Example

```c
void APP_CAN_Callback (uintptr_t context)
{
}
CAN1_CallbackRegister( APP_CAN_Callback, (uintptr_t)APP_STATE_CAN_TRANSMIT, 0 );
CAN1_MessageTransmit(messageID, messageLength, message, 0, CAN_MSG_TX_DATA_FRAME);

CAN1_CallbackRegister( APP_CAN_Callback, (uintptr_t)APP_STATE_CAN_RECEIVE, 1 );
CAN1_MessageReceive(&rx_messageID, &rx_messageLength, rx_message, &timestamp, 1);
```

```c
void APP_CAN_Callback (uintptr_t context)
{
}
CAN1_CallbackRegister( APP_CAN_Callback, (uintptr_t)APP_STATE_CAN_TRANSMIT, 1 );
CAN1_MessageTransmit(messageID, messageLength, message, 1, CANFD_MODE_FD_WITH_BRS, CANFD_MSG_TX_DATA_FRAME);

CAN1_CallbackRegister( APP_CAN_Callback, (uintptr_t)APP_STATE_CAN_RECEIVE, 2 );
CAN1_MessageReceive(&rx_messageID, &rx_messageLength, rx_message, &timestamp, 2, &msgAttr);
```

## Remarks

None.

