<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Timer Counter for Control Applications (TCC)" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="timer-counter-for-control-applications-tcc" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Timer Counter for Control Applications (TCC)</title>
<meta name="Microsoft.Help.Id" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8-timer-counter-for-control-applications-tcc" />
<meta name="Microsoft.Help.TocParent" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Peripheral Libraries Reference A 09/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-CCA150A8-2C66-40B2-9C35-D7F3473720AE"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="timer-counter-for-control-applications-tcc">
<h1 class="title topictitle1" id="ariaid-title1">Timer Counter for Control Applications (TCC)</h1><div class="body"><p class="p">Timer Counter for Control Applications (TCC) peripheral consists of counter, compare/capture channels and control logic. Waveform extensions are featured for motor control, ballast, LED, H-bridge, power converters, and other types of power control applications. They allow for low- and high-side output with optional dead-time insertion.</p>
<p class="p">TCC provides below features:</p>
<ul class="ul"><li class="li"><p class="p">Up to four compare/capture channels (CC) with double buffering</p>
</li>
<li class="li"><p class="p">Waveform extensions:</p>
</li>
<li class="li"><p class="p">Configurable distribution of compare channels outputs across port pins</p>
</li>
<li class="li"><p class="p">Low- and high-side output with programmable dead-time insertion</p>
</li>
<li class="li"><p class="p">Waveform swap option with double buffer support</p>
</li>
<li class="li"><p class="p">Pattern generation with double buffer support</p>
</li>
<li class="li"><p class="p">Dithering support</p>
</li>
<li class="li"><p class="p">Fault protection for safe disabling of drivers</p>
</li>
<li class="li"><p class="p">Two non-recoverable fault sources</p>
</li>
<li class="li"><p class="p">Two recoverable fault sources</p>
</li>
</ul>
<p class="p"><strong class="ph b"> Timer mode </strong></p>
<p class="p">This section provides brief overview of the TC peripheral library in Timer mode</p>
<p class="p"><strong class="ph b">Using The Library</strong></p>
<p class="p">When the timer is enabled, it increments by one on every rising edge of the input clock, and generates an interrupt on a period match (period is controlled by CC0 in MPWM waveform mode). Timer mode is used for periodic interrupt generation. It provides both polling and callback methods to indicate period match has occurred. With polling, the application will need to continuously poll to check if the timer has expired. With callback, the registered callback function will be called when the timer expires. This means the application do not have to poll continuously.</p>
<p class="p"><strong class="ph b">Library Interface</strong></p>
<p class="p">Timer Counter for Control Applications peripheral library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e69"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e71"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerInitialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Initializes given instance of TCC</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerStart</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Starts the timer for given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerStop</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Stops the timer for given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerFrequencyGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Provides the given timer's counter-increment frequency</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer24bitPeriodSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Sets the period value of a given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer24bitPeriodGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Reads the period value of given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer24bitCounterGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Reads the timer current count value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer24bitCounterSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Sets new timer counter value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer24bitCompareSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Sets the compare value of a given timer channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer16bitPeriodSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Sets the period value of a given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer16bitPeriodGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Reads the period value of given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer16bitCounterGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Reads the timer current count value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer16bitCounterSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Sets new timer counter value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_Timer16bitCompareSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Sets the compare value of a given timer channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerCallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Registers the function to be called from interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerPeriodHasExpired</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Checks whether timer period is elapsed</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e69 "><span>TCCx_TimerCommandSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e71 "><span>Issues the command to TCC instance</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e171"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e173"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e175"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e171 "><span>TCC_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e173 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e175 "><span>Defines the function pointer data type and function signature for the tcc callback function</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b"> Compare mode </strong></p>
<p class="p">This section provides brief overview of the TC peripheral library in Compare mode.</p>
<p class="p"><strong class="ph b">Using The Library</strong></p>
<p class="p">When using the TC and the Compare/Capture Value registers (CCx) for compare operations, the counter value is continuously compared to the values in the CCx registers. The Channel x Compare Buffer (CCBUFx) registers provide double buffer capability. Output polarity can be reversed by inverting the output waveforms. In compare mode, overflow interrupt and compare match interrupts can be used to change the frequency or duty cycle of the waveform.</p>
<p class="p"><strong class="ph b">Library Interface</strong></p>
<p class="p">Timer Counter for Control Applications peripheral library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e209"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e211"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareInitialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Initializes given instance of TCC</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareStart</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Starts the timer for given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareStop</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Stops the timer for given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareFrequencyGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Provides the given timer's counter-increment frequency</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare16bitPeriodSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Sets the period value of a given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare16bitPeriodGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Reads the period value of given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare16bitCounterGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Reads the timer current count value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare16bitCounterSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Sets new timer counter value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare16bitMatchSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Writes compare value of the given compare channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare24bitPeriodSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Sets the period value of a given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare24bitPeriodGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Reads the period value of given timer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare24bitCounterGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Reads the timer current count value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare24bitCounterSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Sets new timer counter value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_Compare24bitMatchSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Writes compare value of the given compare channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareCallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Registers the function to be called from interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareStatusGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Reads status of compare operation</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e209 "><span>TCCx_CompareCommandSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e211 "><span>Issues the command to TCC instance</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e311"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e313"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e315"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e311 "><span>TCC_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e313 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e315 "><span>Defines the function pointer data type and function signature for the tcc callback function</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b"> Capture mode </strong></p>
<p class="p">This section provides brief overview of the TC peripheral library in Capture mode.</p>
<p class="p"><strong class="ph b">Using The Library</strong></p>
<p class="p">Capture trigger can be provided by</p>
<ul class="ul"><li class="li"><p class="p">Input event line TC_EV</p>
</li>
<li class="li"><p class="p">Two event input line is available</p>
</li>
<li class="li"><p class="p">This provides different capture event actions:</p>
</li>
<li class="li"><p class="p">Pulse width in CC0 and period in CC1</p>
</li>
<li class="li"><p class="p">Pulse width in CC1 and period in CC0</p>
</li>
<li class="li"><p class="p">Pulse width</p>
</li>
<li class="li"><p class="p">Input event line TC_MCEIx</p>
</li>
<li class="li"><p class="p">Each capture channel has associated input capture event line</p>
</li>
</ul>
<p class="p">It provides both polling and callback methods to indicate capture event has occurred.</p>
<ul class="ul"><li class="li"><p class="p">With polling, the application will need to continuously poll to check if the capture event has occurred.</p>
</li>
<li class="li"><p class="p">With callback, the registered callback function will be called when the capture event occurs. This means the application do not have to poll continuously.</p>
</li>
</ul>
<p class="p"><strong class="ph b">Library Interface</strong></p>
<p class="p">Timer Counter for Control Applications peripheral library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e384"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e386"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureInitialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Initializes given instance of TCC</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureStart</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Starts the timer for given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureStop</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Stops the timer for given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureFrequencyGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Provides the given timer's counter-increment frequency</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_Capture16bitValueGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Reads capture value from given channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_Capture16bitCounterGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Reads the timer current count value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_Capture24bitValueGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Reads capture value from given channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_Capture24bitCounterGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Reads the timer current count value</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureCommandSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Issues the command to TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureCallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Registers the function to be called from interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e384 "><span>TCCx_CaptureStatusGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e386 "><span>Reads status capture operation</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e454"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e456"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e458"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e454 "><span>TCC_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e456 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e458 "><span>Defines the function pointer data type and function signature for the tcc callback function</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e454 "><span>TCCx_CAPTURE_STATUS</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e456 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e458 "><span>TCC capture status flags</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b"> PWM mode </strong></p>
<p class="p">This section provides brief overview of the TC peripheral library in PWM mode.</p>
<p class="p"><strong class="ph b">Using The Library</strong></p>
<p class="p">TCC is used to generate single slope or dual slope PWM signals with dead time. This can generate four complimentary PWM signals.</p>
<p class="p">Below example shows to generate 3 phase PWM signals for motor control
application. Duty cycle is updated in interrupt handler.</p>
<pre class="pre codeblock"><button title="Copy Code" class="copy-code" onclick="cpy('d186179e487', this);">Copy</button><code id="d186179e487" content="&#xA;/* Duty cycle increment value */&#xA;\#define DUTY_INCREMENT (10U)&#xA;&#xA;/* Save PWM period */&#xA;uint32_t period;&#xA;&#xA;/* This function is called after TCC period event */&#xA;void TCC_PeriodEventHandler(uint32_t status, uintptr_t context)&#xA;{&#xA;    /* duty cycle values */&#xA;    static uint32_t duty1 = 0U;&#xA;    static uint32_t duty2 = 0U;&#xA;    static uint32_t duty3 = 0U;&#xA;&#xA;    TCC0_PWM24bitDutySet(TCC0_CHANNEL1, duty1);&#xA;    TCC0_PWM24bitDutySet(TCC0_CHANNEL2, duty2);&#xA;    TCC0_PWM24bitDutySet(TCC0_CHANNEL3, duty3);&#xA;&#xA;    /* Increment duty cycle values */&#xA;    duty1 += DUTY_INCREMENT;&#xA;    duty2 += DUTY_INCREMENT;&#xA;    duty3 += DUTY_INCREMENT;&#xA;&#xA;&#xA;    if (duty1 &gt; period)&#xA;    {&#xA;            duty1 = 0U;&#xA;        if (duty2 &gt; period)&#xA;            duty2 = 0U;&#xA;        if (duty3 &gt; period)&#xA;            duty3 = 0U;&#xA;    }&#xA;}&#xA;&#xA;int main ( void )&#xA;{&#xA;    /* Initialize all modules */&#xA;    SYS_Initialize ( NULL );&#xA;&#xA;        /* Register callback function for period event */&#xA;    TCC0_PWMCallbackRegister(TCC_PeriodEventHandler, (uintptr_t)NULL);&#xA;&#xA;    /* Read the period */&#xA;    period = TCC0_PWM24bitPeriodGet();&#xA;&#xA;    /* Start PWM*/&#xA;    TCC0_PWMStart();&#xA;&#xA;    while(1);&#xA;}">
/* Duty cycle increment value */
\#define DUTY_INCREMENT (10U)

/* Save PWM period */
uint32_t period;

/* This function is called after TCC period event */
void TCC_PeriodEventHandler(uint32_t status, uintptr_t context)
{
    /* duty cycle values */
    static uint32_t duty1 = 0U;
    static uint32_t duty2 = 0U;
    static uint32_t duty3 = 0U;

    TCC0_PWM24bitDutySet(TCC0_CHANNEL1, duty1);
    TCC0_PWM24bitDutySet(TCC0_CHANNEL2, duty2);
    TCC0_PWM24bitDutySet(TCC0_CHANNEL3, duty3);

    /* Increment duty cycle values */
    duty1 += DUTY_INCREMENT;
    duty2 += DUTY_INCREMENT;
    duty3 += DUTY_INCREMENT;


    if (duty1 &gt; period)
    {
            duty1 = 0U;
        if (duty2 &gt; period)
            duty2 = 0U;
        if (duty3 &gt; period)
            duty3 = 0U;
    }
}

int main ( void )
{
    /* Initialize all modules */
    SYS_Initialize ( NULL );

        /* Register callback function for period event */
    TCC0_PWMCallbackRegister(TCC_PeriodEventHandler, (uintptr_t)NULL);

    /* Read the period */
    period = TCC0_PWM24bitPeriodGet();

    /* Start PWM*/
    TCC0_PWMStart();

    while(1);
}</code></pre><p class="p"><strong class="ph b">Library Interface</strong></p>
<p class="p">Timer Counter for Control Applications peripheral library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e504"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e506"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMInitialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Initializes given instance of TCC</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMStart</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Starts PWM generation of given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMStop</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Stops PWM generation of given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMPatternSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the output PWM pattern</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM24bitPeriodSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the period value of a given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM24bitPeriodGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Reads the period value of a given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM24bitDutySet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the duty value of a given TCC channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM24bitCounterSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the counter value of a given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM16bitPeriodSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the period value of a given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM16bitPeriodGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Reads the period value of a given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM16bitDutySet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the duty value of a given TCC channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWM16bitCounterSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the counter value of a given TCC instance</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMDeadTimeSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Sets the dead time of a given TCC module</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMForceUpdate</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Updates double buffer register value to actual register asynchronously</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMPeriodInterruptEnable</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Enables period interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMPeriodInterruptDisable</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Disables period interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMInterruptStatusGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Reads the interrupt flags</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e504 "><span>TCCx_PWMCallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e506 "><span>Registers the function to be called from interrupt</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e610"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e612"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d186179e614"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e610 "><span>TCCx_CHANNEL_NUM</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e612 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e614 "><span>Identifies channel number within TCC module</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e610 "><span>TCC_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e612 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d186179e614 "><span>Defines the function pointer data type and function signature for the tcc callback function</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</body>
</html>