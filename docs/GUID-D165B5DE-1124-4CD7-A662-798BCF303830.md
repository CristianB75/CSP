# Reset Controller \(RSTC\)

The Reset Controller \(RSTC\), based on power-on reset cells, handles all<br />the resets of the system without any external components. It reports<br />which reset occurred last.

-   Manages All Resets of the System, Including

    -   Processor Reset

    -   Backedup Peripheral Reset

-   Based on 2 Embedded Poweron Reset Cells

-   Reset Source Status

    -   Status of the Last Reset

    -   Either General Reset, Wakeup Reset, Software Reset, User Reset,<br />Watchdog Reset


**Using The Library**

The reset controller \(RSTC\) peripheral library provides API to find the<br />cause of last device reset.

**RSTC for LED Switcher:**

```c
void reset_asserted (uintptr_t context)

{

 LED_Toggle();

}



int main ( void )

{

 /* Initialize all modules */

 SYS_Initialize ( NULL );

 RSTC_CallbackRegister(reset_asserted, (uintptr_t) NULL );

 while ( true )

 {

 /* Maintain state machines of all polled MPLAB Harmony modules. */

 SYS_Tasks ( );

 }

 /* Execution should not come here during normal operation */

 return ( EXIT_FAILURE );

}
```

**Library Interface**

Reset Controller peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|RSTC\_Initialize|Initializes RSTC module with the user configuration|
|RSTC\_Reset|Resets the processor and all the embedded peripherals, if RSTC\_RESET type is "RSTC\_RESET\_PROC ". Asserts the NRST pin, if RSTC\_RESET type is "RSTC\_RESET\_EXT "|
|RSTC\_NRSTPinRead|This API used to read the NRST pin level, sampled on each "Master Clock\(MCK\)" rising edge|
|RSTC\_ResetCauseGet|Reports the cause of the last reset|
|RSTC\_CallbackRegister|Allows a client to identify a callback function|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|RSTC\_RESET\_CAUSE|Struct|Identifiers for the cause of reset|
|RSTC\_RESET\_TYPE|Enum|Identifiers for the type of reset|
|RSTC\_CALLBACK|Typedef|RSTC Callback Function Pointer|

-   **[RSTC\_Initialize Function](GUID-9F9C37D1-8DF7-4E31-935E-C9A1DC991900.md)**  

-   **[RSTC\_Reset Function](GUID-9BEACE0E-9460-4576-8C3B-4640EDAF4DBC.md)**  

-   **[RSTC\_NRSTPinRead Function](GUID-0B5C7B32-504C-433A-8C33-A4976BEEF7F7.md)**  

-   **[RSTC\_ResetCauseGet Function](GUID-F9114EE2-02F3-4B3A-9AB7-567D398A3B22.md)**  

-   **[RSTC\_CallbackRegister Function](GUID-EBD5763B-8540-49A2-B995-CCADB3D402A9.md)**  

-   **[RSTC\_RESET\_CAUSE Typedef](GUID-ACBA10AD-C6BE-417C-A742-1D64D99C9F37.md)**  

-   **[RSTC\_RESET\_TYPE Enum](GUID-A2274586-57AF-4B9D-BC8F-6D9203492AAA.md)**  

-   **[RSTC\_CALLBACK Typedef](GUID-3AFE0DAE-A3B9-489C-BB13-E217E6874368.md)**  


**Parent topic:**[SAM A5D2 Peripheral Libraries](GUID-F6605EDC-FC71-4081-8560-0C1681C1FA8D.md)

