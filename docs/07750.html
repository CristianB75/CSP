<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>UART_RING_BUFFER_CALLBACK Type</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '07750.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="05049.html" target="topic">Peripheral Library Overview</a> &gt; <a href="04581.html" target="topic">Peripheral Libraries Help</a> &gt; <a href="05048.html" target="topic">Peripheral Libraries</a> &gt; <a href="07612.html" target="topic">UART Peripheral Library Help</a> &gt; <a href="07613.html" target="topic">Library Interface</a> &gt; e) Data Types and Constants &gt; <a href="07750.html" target="topic">UART_RING_BUFFER_CALLBACK Type</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
Microchip 32-bit Chip Support Package</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="05049.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="07762.html" target="topic">Previous</a> | <a href="07613.html" target="topic">Up</a> | <a href="07639.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: uart_ring_buffer_00734::UART_RING_BUFFER_CALLBACK Topic Title: UART_RING_BUFFER_CALLBACK Type)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
UART_RING_BUFFER_CALLBACK Type</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
Callback Function Pointer&nbsp;</p>
<p class="Element10">
This data type defines the function signature for the UART peripheral callback function in the ring buffer mode. The UART peripheral will call back the client's function with this signature when the UART buffer event has occurred.</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #000080">typedef</span></strong> <strong><span style="color: #000080">void</span></strong> (* <strong><span style="color: #000000">UART_RING_BUFFER_CALLBACK</span></strong>)(<a href="07745.html" target="topic">UART_EVENT</a> event, uintptr_t context);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">

<ul class="Element630">
<li class="Element600">UARTx_Initialize must have been called for the given UART peripheral instance.</li>
<li class="Element600">Callback must have been registered using <a href="07760.html" target="topic">UARTx_WriteCallbackRegister</a> or <a href="07753.html" target="topic">UARTx_ReadCallbackRegister</a> routines and event notifications are enabled using the <a href="07763.html" target="topic">UARTx_WriteNotificationEnable</a> or <a href="07756.html" target="topic">UARTx_ReadNotificationEnable</a> routines.</li>
</ul></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
event&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Indicates the event for which the callback is called&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
context&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Allows the caller to provide a context value (usually a pointer to the callers context for multiple clients).&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element13"><div class="Element12"><pre class="Element12">uint8_t txBuffer[50];
uint8_t rxBuffer[10];

<strong><span style="color: #000080">volatile</span></strong> <strong><span style="color: #000080">bool</span></strong> txThresholdEventReceived = <strong><span style="color: #000080">false</span></strong>;
<strong><span style="color: #000080">volatile</span></strong> <strong><span style="color: #000080">bool</span></strong> rxThresholdEventReceived = <strong><span style="color: #000080">false</span></strong>; 
<strong><span style="color: #000080">volatile</span></strong> uint32_t nBytesRead = 0;

<strong><span style="color: #000080">void</span></strong> usartWriteEventHandler(<a href="07745.html" target="topic">UART_EVENT</a> event, uintptr_t context )
{
    txThresholdEventReceived = <strong><span style="color: #000080">true</span></strong>;
}

<strong><span style="color: #000080">void</span></strong> usartReadEventHandler(<a href="07745.html" target="topic">UART_EVENT</a> event, uintptr_t context )
{
    uint32_t nBytesAvailable = 0;
    
    <strong><span style="color: #000080">if</span></strong> (event == UART_EVENT_READ_THRESHOLD_REACHED)
    {           
        nBytesAvailable = UART1_ReadCountGet();
        
        nBytesRead += UART1_Read((uint8_t*)&amp;rxBuffer[nBytesRead], nBytesAvailable);                          
    }
}

<i><span style="color: #008000">//----------------------------------------------------------//</span></i>

<i><span style="color: #008000">// Register a callback for write events</span></i>
UART1_WriteCallbackRegister(usartWriteEventHandler, (uintptr_t) NULL);

<i><span style="color: #008000">// Set TX threshold - TX buffer is empty</span></i>
UART1_WriteThresholdSet(UART1_WriteBufferSizeGet());   

<i><span style="color: #008000">// Enable notifications. Enables notification when threshold condition is reached</span></i>
UART1_WriteNotificationEnable(<strong><span style="color: #000080">true</span></strong>, <strong><span style="color: #000080">false</span></strong>);

<i><span style="color: #008000">// Register a callback for read events</span></i>
UART1_ReadCallbackRegister(usartReadEventHandler, (uintptr_t) NULL);  

<i><span style="color: #008000">// Set RX threshold - when 5 characters are available in the receive buffer</span></i>
UART1_ReadThresholdSet(5);

<i><span style="color: #008000">// Enable RX event notifications </span></i>
UART1_ReadNotificationEnable(<strong><span style="color: #000080">true</span></strong>, <strong><span style="color: #000080">false</span></strong>);
</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="05049.html" target="topic">Peripheral Library Overview</a> &gt; <a href="04581.html" target="topic">Peripheral Libraries Help</a> &gt; <a href="05048.html" target="topic">Peripheral Libraries</a> &gt; <a href="07612.html" target="topic">UART Peripheral Library Help</a> &gt; <a href="07613.html" target="topic">Library Interface</a> &gt; e) Data Types and Constants &gt; <a href="07750.html" target="topic">UART_RING_BUFFER_CALLBACK Type</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
Microchip 32-bit Chip Support Package</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="05049.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="07762.html" target="topic">Previous</a> | <a href="07613.html" target="topic">Up</a> | <a href="07639.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: uart_ring_buffer_00734::UART_RING_BUFFER_CALLBACK Topic Title: UART_RING_BUFFER_CALLBACK Type)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>