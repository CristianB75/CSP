# Power Manager \(PM\)

The Power Manager \(PM\) consists of three modules: the synchronous clock<br />controller, the sleep controller, and the reset controller. These<br />modules are responsible for distributing clocks, supervising low power<br />modes, and administering the MCU's resets.

**Sleep Controller**

In active mode, all clock domains are active, allowing software<br />execution and peripheral operation. The Sleep Mode Controller allows<br />the user to choose between different sleep modes depending on<br />application requirements, to save power.

There are two main types of sleep modes available::

-   Idle sleep mode: The CPU stops executing code, no peripheral are<br />disabled. All interrupt sources can wake up the device

-   Standby sleep mode: The user can configure peripherals to be<br />enabled or not using the respective RUNSTDBY bit. This means that power<br />consumption is highly dependent on what functionality is enabled.


Three are three levels of idle mode:

-   Idle 0: The CPU clock domain is stopped

-   Idle 1: The CPU and AHB clock domains are stopped

-   Idle 2: The CPU, AHB and APB clock domains are stopped


**Reset Controller**

The Reset Controller collects the various reset sources and generates<br />reset for the device and allows the reset source to be identified by<br />the software.

-   **Power On Reset:**The device contains a power-on-reset<br />\(POR\) detector, which keeps the system reset until power is stable.<br />This eliminates the need for external reset circuitry to guarantee<br />stable operation when powering up the device.

-   **VDDCORE Brown Out Reset:**BOD12 will reset the device if a<br />voltage of 1.2 V or below is observed on the I/O pin supplying power to<br />the MCU core \(VDDCORE\).

-   **VDDANA Brown Out Reset:** BOD33 resets the device if the<br />voltage on the VDDANA pin falls below a value configured by the SYSCTRL

-   **Watchdog Reset:** The watchdog reset occurs when it times out

-   **System Reset:**The System Reset Request is a software reset<br />generated by the CPU when asserting the SYSRESETREQ bit located in the<br />Reset Control register of the CPU

-   **External Reset:**A external reset is generated when a low<br />level is detected on the RESET pin


Resets are divided into two modes based upon the source of the reset.

-   Power Resets include resets generated by POR, BOD12, and BOD33.

-   User Resets consist of the external reset, WDT, and the software<br />reset instruction


Both power and user reset causes the device to restart and set most<br />registers of the MCU to a preset state. The difference between the two<br />modes is how they affect the Real Time Clock, the 32 K oscillator, and<br />the WDT. The underlying reasoning for having two reset modes is to<br />protect the operation of the WDT and the RTC from non-power related<br />anomalies.

**Synchronous Clock Controller**

The main clock is s the common root for the synchronous clocks. This is<br />fed into the common 8-bit prescaler that is used to generate<br />synchronous clocks to the CPU, AHB and APBx modules.

**Using The Library**

The power manager peripheral library provides API to enter Idle Sleep<br />mode and Standby Sleep mode. It also provides API to find the cause of<br />last device reset

**Library Interface**

Power Manager peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|PM\_ResetCauseGet|Reports the cause of the last reset|
|PM\_StandbyModeEnter|Puts the device in standby mode|
|PM\_IdleModeEnter|Puts the device in Idle mode|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|PM\_RESET\_CAUSE|Enum|Identifies the type of reset|

-   **[PM\_ResetCauseGet Function](GUID-F37474FB-E4BA-4DC1-8FD0-6677E6082E14.md)**  

-   **[PM\_StandbyModeEnter Function](GUID-2C9E59AB-D8D9-40BD-88AE-C0C434DE25B6.md)**  

-   **[PM\_IdleModeEnter Function](GUID-893725F2-64BE-49CA-B799-469FFE443CF2.md)**  

-   **[PM\_RESET\_CAUSE Enum](GUID-BF612BB4-D68D-462D-AA2A-D5C5FAB131D7.md)**  


**Parent topic:**[SAM D09 D10 D11 Peripheral Libraries](GUID-F4788319-C5F3-4EB3-8CC7-05770A2EBD32.md)

**Parent topic:**[SAM D20 D21 Peripheral Libraries](GUID-86A69A90-EDAB-465F-A03A-57CD8BF54AE8.md)

**Parent topic:**[SAM DA1 Peripheral Libraries](GUID-0CDE5F35-9BE3-4484-8299-98161C496C00.md)

**Parent topic:**[SAM HA1 Peripheral Libraries](GUID-7E583BB3-CBFA-4862-8ED5-40D747167457.md)

