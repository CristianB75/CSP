<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="XDMACn_ChannelLinkedListTransfer Function" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="xdmacn-channellinkedlisttransfer-function" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>XDMACn_ChannelLinkedListTransfer Function</title>
<meta name="Microsoft.Help.Id" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8-xdmacn-channellinkedlisttransfer-function" />
<meta name="Microsoft.Help.TocParent" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Peripheral Libraries Reference A 09/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-813F1FF6-7F26-446D-96BA-ED2FDE6535B1"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="xdmacn-channellinkedlisttransfer-function">
<h1 class="title topictitle1" id="ariaid-title1">XDMACn_ChannelLinkedListTransfer Function</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title2" id="c"><h2 class="title topictitle2" id="ariaid-title2">C</h2><div class="body"><pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d164617e14', this);">Copy</button><code id="d164617e14" content="// n is instance of the peripheral and it is applicable only for devices having multiple instances of the peripheral.&#xA;bool XDMACn_ChannelLinkedListTransfer&#xA;(&#xA;XDMAC_CHANNEL channel,&#xA;uint32_t descriptor,&#xA;XDMAC_DESCRIPTOR_CONTROL* descriptorControl&#xA;)"><span class="ph token comment">// n is instance of the peripheral and it is applicable only for devices having multiple instances of the peripheral.</span>
bool XDMACn_ChannelLinkedListTransfer
<span class="ph token punctuation">(</span>
XDMAC_CHANNEL channel<span class="ph token punctuation">,</span>
uint32_t descriptor<span class="ph token punctuation">,</span>
XDMAC_DESCRIPTOR_CONTROL<span class="ph token operator">*</span> descriptorControl
<span class="ph token punctuation">)</span></code></pre></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="summary"><h2 class="title topictitle2" id="ariaid-title3">Summary</h2><div class="body"><p class="p">Sets up a multi-block data transfer on a specified XDMAC channel using linked list feature.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title4" id="description"><h2 class="title topictitle2" id="ariaid-title4">Description</h2><div class="body"><p class="p">This function sets up multi-block data transfer for a XDMAC channel by
linked list operation mode if channel is not busy already. That is each
block of data to be transferred is configured as descriptors of a linked list.
Each descriptor can be defined in any available descriptor view formats and
the views are available as XDMAC_DESCRIPTOR_VIEW_x.</p>
<p class="p">Specified XDMAC channel will be enabled by default upon linked list
addition. Upon each block transfer completion XDMAC PLIB will call event
handler if the event handler is registered through
XDMAC_ChannelCallbackRegister.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title5" id="precondition"><h2 class="title topictitle2" id="ariaid-title5">Precondition</h2><div class="body"><p class="p">XDMAC should have been initialized by calling XDMACn_Initialize. Linked list with descriptors in any available descriptor view formats must be defined.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title6" id="parameters"><h2 class="title topictitle2" id="ariaid-title6">Parameters</h2><div class="body">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d164617e62"><span>Param</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d164617e64"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d164617e62 "><span>channel</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d164617e64 "><span>A specific XDMAC channel</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d164617e62 "><span>firstDescriptorAddress</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d164617e64 "><span>Address of the first descriptor of the linked list. All descriptors must be defined in the device specific view formats available as XDMAC_DESCRIPTOR_VIEW_x and must be cache line aligned.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d164617e62 "><span>firstDescriptorControl</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d164617e64 "><span>Control settings for the first descriptor. This must be defined in device specific view format, XDMAC_DESCRIPTOR_CONTROL and must be cache line aligned.</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title7" id="returns"><h2 class="title topictitle2" id="ariaid-title7">Returns</h2><div class="body"><p class="p"><em class="ph i">- True</em> - If transfer request is accepted.</p>
<p class="p"><em class="ph i">- False</em> - If previous transfer is in progress and the request is rejected.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title8" id="example"><h2 class="title topictitle2" id="ariaid-title8">Example</h2><div class="body"><pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d164617e98', this);">Copy</button><code id="d164617e98" content="// Transfer 2 blocks of data to UART TX, each 10 bytes.&#xA;&#xA;//Two blocks of data&#xA;char src1[11] = {&#34;1234567890&#34;};&#xA;char src2[11] = {&#34;ABCDEFGHIJ&#34;};&#xA;    &#xA;    //Cache line aligned first descriptor control, &#34;descptr_crtl&#34;&#xA;    //Cache line aligned linked list with descriptors in any supported view,&#xA;    //&#34;linkedList1[2]&#34; with 2 descriptors of different source addresses.&#xA;    &#xA;    // User registers an event handler with PLIB.&#xA;    XDMAC_ChannelCallbackRegister(handle, APP_XDMAC_TransferEventHandler,&#xA;    NULL);&#xA;    &#xA;    // Add linked list to the XDMAC PLIB, channel will be enabled by default.&#xA;    if(XDMAC_ChannelLinkedListTransfer(XDMAC_CHANNEL_1, (uint32_t)&amp;linkedList1[0], &amp;descptr_crtl) == true)&#xA;    {&#xA;        // do something else&#xA;    }&#xA;    else&#xA;    {&#xA;        // try again?&#xA;    }"><span class="ph token comment">// Transfer 2 blocks of data to UART TX, each 10 bytes.</span>

<span class="ph token comment">//Two blocks of data</span>
<span class="ph token keyword">char</span> src1<span class="ph token punctuation">[</span><span class="ph token number">11</span><span class="ph token punctuation">]</span> <span class="ph token operator">=</span> <span class="ph token punctuation">{</span><span class="ph token string">"1234567890"</span><span class="ph token punctuation">}</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">char</span> src2<span class="ph token punctuation">[</span><span class="ph token number">11</span><span class="ph token punctuation">]</span> <span class="ph token operator">=</span> <span class="ph token punctuation">{</span><span class="ph token string">"ABCDEFGHIJ"</span><span class="ph token punctuation">}</span><span class="ph token punctuation">;</span>
    
    <span class="ph token comment">//Cache line aligned first descriptor control, "descptr_crtl"</span>
    <span class="ph token comment">//Cache line aligned linked list with descriptors in any supported view,</span>
    <span class="ph token comment">//"linkedList1[2]" with 2 descriptors of different source addresses.</span>
    
    <span class="ph token comment">// User registers an event handler with PLIB.</span>
    <span class="ph token function">XDMAC_ChannelCallbackRegister</span><span class="ph token punctuation">(</span>handle<span class="ph token punctuation">,</span> APP_XDMAC_TransferEventHandler<span class="ph token punctuation">,</span>
    <span class="ph token constant">NULL</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    
    <span class="ph token comment">// Add linked list to the XDMAC PLIB, channel will be enabled by default.</span>
    <span class="ph token keyword">if</span><span class="ph token punctuation">(</span><span class="ph token function">XDMAC_ChannelLinkedListTransfer</span><span class="ph token punctuation">(</span>XDMAC_CHANNEL_1<span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span>uint32_t<span class="ph token punctuation">)</span><span class="ph token operator">&amp;</span>linkedList1<span class="ph token punctuation">[</span><span class="ph token number">0</span><span class="ph token punctuation">]</span><span class="ph token punctuation">,</span> <span class="ph token operator">&amp;</span>descptr_crtl<span class="ph token punctuation">)</span> <span class="ph token operator">==</span> true<span class="ph token punctuation">)</span>
    <span class="ph token punctuation">{</span>
        <span class="ph token comment">// do something else</span>
    <span class="ph token punctuation">}</span>
    <span class="ph token keyword">else</span>
    <span class="ph token punctuation">{</span>
        <span class="ph token comment">// try again?</span>
    <span class="ph token punctuation">}</span></code></pre></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title9" id="remarks"><h2 class="title topictitle2" id="ariaid-title9">Remarks</h2><div class="body"><p class="p">This is supported by only the devices with multi-block transfer feature. The "descriptorControl" parameter is a XDMAC hardware version specific requirement and may not be needed in some of the devices.</p>
</div>
</div>
</body>
</html>