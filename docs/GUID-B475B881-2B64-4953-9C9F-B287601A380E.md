# Periodic Interval Timer 64-bit \(PIT64B\)

The 64-bit Periodic Interval Timer \(PIT64B\) provides the operating system scheduler interrupt, as well as any periodic source of interrupt to software. It is designed to offer maximum accuracy and efficient management, even for systems with long response times.

-   4-bit Prescaler

-   Single Shot or Continuous Mode


**Using The Library**

PIT64B peripheral library can be used to poll for a periodic timeout, generate periodic interrupts or generate timed waits. The following examples shows different modes of its usage.

**Polling method**

```c

int main ( void )
{
    int i;
    /* Initialize all modules */
    SYS_Initialize ( NULL );

    while ( true )
    {
        while(!PIT64B_TimerPeriodHasExpired());
        LED_BLUE_Toggle();
        /* Maintain state machines of all polled MPLAB Harmony modules. */
        SYS_Tasks ( );
    }

    /* Execution should not come here during normal operation */

    return ( EXIT_FAILURE );
}
```

**Interrupt method**

```c

static void timerHandler (uintptr_t context)
{    
    (void)context;
    
    LED_BLUE_Toggle(); 
}

int main ( void )
{
    /* Initialize all modules */
    SYS_Initialize ( NULL );

    PIT64B_TimerCallbackSet(timerHandler, 0);
    PIT64B_TimerStart();

    while ( true )
    {
        /* Maintain state machines of all polled MPLAB Harmony modules. */
        SYS_Tasks ( );
    }

    /* Execution should not come here during normal operation */

    return ( EXIT_FAILURE );
}

```

**Delay routines**

```c
int main ( void )
{
    /* Initialize all modules */
    SYS_Initialize ( NULL );
    
    PIT64B_TimerStart();

    while ( true )
    {
        PIT64B_DelayMs(1000U);
        LED_BLUE_Toggle();
        /* Maintain state machines of all polled MPLAB Harmony modules. */
        SYS_Tasks ( );
    }

    /* Execution should not come here during normal operation */

    return ( EXIT_FAILURE );
}
```

**Library Interface**

Periodic Interval Timer 64-bit peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|PIT64B\_TimerInitialize|Initialize PIT64B registers per user config|
|PIT64B\_TimerRestart|Restart the PIT64B counter|
|PIT64B\_TimerStart|Start the PIT64B counter|
|PIT64B\_TimerStop|Stop the PIT64B counter|
|PIT64B\_TimerPeriodSet|Set the timer period value|
|PIT64B\_TimerPeriodGet|Get the timer period value|
|PIT64B\_TimerCounterGet|Get the timer counter value|
|PIT64B\_TimerFrequencyGet|Get the timer clock frequency|
|PIT64B\_TimerPeriodHasExpired|Return whether or not the Timer Period has expired|
|PIT64B\_DelayMs|Delays processing for x milliseconds|
|PIT64B\_DelayUs|Delays processing for x microseconds|
|PIT64B\_TimerCallbackSet|Register callback for PIT64B interrupt|
|PIT64B\_ClearInterrupt|PIT64B Clear Interrupt|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|PIT64B\_CALLBACK|Typedef|PIT64B Interrupt Callback Function definition|

-   **[PIT64B\_TimerInitialize Function](GUID-E351AEDC-D6B6-4F2A-AB7F-110B434A34B4.md)**  

-   **[PIT64B\_ClearInterrupt Function](GUID-0C891223-AD97-4F9C-8E6F-03CE43396568.md)**  

-   **[PIT64B\_DelayMs Function](GUID-6604C72E-A325-4A25-9FB6-057B984880B2.md)**  

-   **[PIT64B\_DelayUs Function](GUID-4AD1DE78-2AF4-4DFE-9D3A-0380F552DEDF.md)**  

-   **[PIT64B\_TimerCallbackSet Function](GUID-AEEEA7BB-F6EF-4671-8DA5-AA8FEB098383.md)**  

-   **[PIT64B\_TimerCounterGet Function](GUID-EC59460C-CF73-4A91-AC12-6A31B455CC57.md)**  

-   **[PIT64B\_TimerFrequencyGet Function](GUID-5FE49CCB-01B4-49B3-A871-ECEE20A05A2E.md)**  

-   **[PIT64B\_TimerPeriodGet Function](GUID-95662287-657E-428E-9638-2832B1DEAAF8.md)**  

-   **[PIT64B\_TimerPeriodHasExpired Function](GUID-69F5622D-BCD2-48DE-ABF6-E7C87DC1980A.md)**  

-   **[PIT64B\_TimerPeriodSet Function](GUID-5E441ABD-585B-40ED-A374-473DDA854727.md)**  

-   **[PIT64B\_TimerRestart Function](GUID-CEA32B74-64B7-4340-9679-A3892F10D63A.md)**  

-   **[PIT64B\_TimerStart Function](GUID-A03A8ADB-DBEB-469D-9D1B-4D79642C242C.md)**  

-   **[PIT64B\_TimerStop Function](GUID-C7EC3C53-9D5C-4E25-87AF-5C953312314C.md)**  

-   **[PIT64B\_CALLBACK Typedef](GUID-64FCD9F8-E3AF-42AC-AE59-A003D2DA4C24.md)**  


**Parent topic:**[SAM 9X60 Peripheral Libraries](GUID-CCAAC7F0-6BA8-4630-91AE-69718D188CBF.md)

**Parent topic:**[SAM 9X7 Peripheral Libraries](GUID-FB6741AA-355E-483F-9727-37728953D583.md)

**Parent topic:**[SAM A7G5 Peripheral Libraries](GUID-7EEB1AC5-4BFF-4259-97AD-8CF7367D7973.md)

