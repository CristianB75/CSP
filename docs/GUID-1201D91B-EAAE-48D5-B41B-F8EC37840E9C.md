# SPIx\_ReadCountGet Function

**Parent topic:**[Serial Peripheral Interface \(SPI\)](GUID-246C53F6-3912-4437-AEC8-C2262CEF3EF6.md)

**Parent topic:**[Serial Peripheral Interface \(SPI\)](GUID-CBD5BFEF-57AB-4CA0-92C0-00CB1A72D686.md)

**Parent topic:**[Serial Peripheral Interface \(SPI\)](GUID-84F93473-4002-4DDD-A28F-9BF9DB6B7C3E.md)

## C

```c
/* x = SPI instance number */

/* SPI slave mode */
size_t SPIx_ReadCountGet(void)
```

## Summary

Returns the number of bytes pending to be read out from the PLIB's internal buffer

## Description

This function returns the number of unread bytes availabe in the SPI slave PLIB's internal receive buffer. Application can call this API to know the bytes available in PLIBs internal buffer before calling the SPIx\_Read API.

## Precondition

The SPIx\_Initialize function must have been called.

## Parameters

None

## Returns

*size\_t* - Number of bytes available in the PLIB's internal receive buffer. If 16/32 bit modes are supported, the return value is specified in terms of 16/32 bit words.

## Example

```c
uint8_t APP_RxData[10];
size_t nBytesAvailable;
size_t nBytesRead;

void SPIEventHandler(uintptr_t context )
{
    if (SPI1_ErrorGet() == SPI_SLAVE_ERROR_NONE)
    {
        nBytesAvailable = SPI1_ReadCountGet();
        
        nBytesRead = SPI1_Read(APP_RxData, nBytesAvailable);
    }
    else
    {
        // Handle error
    }
    
}

SPI1_CallbackRegister(SPIEventHandler, (uintptr_t) 0);
```

## Remarks

None.

