# Quadrature Decoder \(PDEC\)

The quadrature decoder \(QDEC\) mode is used to measure the position and<br />speed of the motor. This provides below features:

-   Angular and revolution counts

-   Synchronous and asynchronous velocity measurements

-   Direction change detection

-   Interrupts/output events on:

    -   Counter overflow/underflow

    -   Velocity

    -   Direction change


**Using The Library**

Quadrature encoder signals Phase A, Phase B and an optional index<br />signal are connected to the PDEC peripheral. The PDEC peripheral<br />processes these signals with an internal counter to get the angular<br />position and revolution count.

For velocity measurement, velocity event output is connected to the TC<br />module using the Event System.

**Library Interface**

Quadrature Decoder peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|PDECx\_QDECInitialize|Initializes given instance of PDEC peripheral in quadrature mode|
|PDECx\_QDECStart|Starts the given PDEC counter in quadrature mode|
|PDECx\_QDECStop|Stops the given PDEC counter in quadrature mode|
|PDECx\_QDECPositionGet|Reads the angular position from the quadrature encoder|
|PDECx\_QDECRevolutionsGet|Reads the number of revolutions|
|PDECx\_QDECAngleGet|Reads the angle|
|PDECx\_QDECCallbackRegister|Registers the function to be called from interrupt|
|PDECx\_QDECStatusGet|Identifies status of the quadrature interrupts|
|PDECx\_HALLInitialize|Initializes given instance of PDEC peripheral in hall mode|
|PDECx\_HALLStart|Starts the given PDEC counter in hall mode|
|PDECx\_HALLStop|Stops the given PDEC counter in hall mode|
|PDECx\_HALLPatternGet|Reads the hall pattern|
|PDECx\_HALLPatternSet|Writes the hall pattern|
|PDECx\_HALLTimeWindowSet|Writes the low and high window threshold for hall mode|
|PDECx\_HALLCallbackRegister|Registers the function to be called from interrupt|
|PDECx\_HALLStatusGet|Identifies status of the hall interrupts|
|PDECx\_COUNTERInitialize|Initializes given instance of PDEC peripheral in counter mode|
|PDECx\_COUNTERStart|Starts the given PDEC counter in counter mode|
|PDECx\_COUNTERStop|Stops the given PDEC counter in counter mode|
|PDECx\_COUNTERCompare0Set|Configures Compare 0 register value|
|PDECx\_COUNTERCompare1Set|Configures Compare 0 register value|
|PDECx\_COUNTERCompare0Get|Reads Compare 0 register value|
|PDECx\_COUNTERCompare1Get|Reads Compare 1 register value|
|PDECx\_COUNTERCallbackRegister|Registers the function to be called from interrupt|
|PDECx\_COUNTERStatusGet|Identifies status of the counter mode interrupts|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|PDEC\_QDEC\_STATUS|Enum|Identifies Quadrature mode interrupt source mask|
|PDEC\_HALL\_STATUS|Enum|Identifies Hall mode interrupt source mask|
|PDEC\_COUNTER\_STATUS|Enum|Identifies counter mode interrupt source mask|
|PDEC\_QDEC\_CALLBACK|Typedef|Defines the function pointer data type and function signature for the pdec QDEC callback function|
|PDEC\_HALL\_CALLBACK|Typedef|Defines the function pointer data type and function signature for the pdec hall callback function|
|PDEC\_COUNTER\_CALLBACK|Typedef|Defines the function pointer data type and function signature for the pdec counter callback function|
|PDEC\_QDEC\_CALLBACK\_OBJ|Struct|Callback structure|
|PDEC\_HALL\_CALLBACK\_OBJ|Struct|Callback structure|
|PDEC\_COUNTER\_CALLBACK\_OBJ|Struct|Callback structure|

-   **[PDECx\_QDECInitialize Function](GUID-F55536C2-B774-4C1F-B6ED-2134439BAC01.md)**  

-   **[PDECx\_QDECStart Function](GUID-EF03B83F-A3E3-4516-82EF-64228E60B52E.md)**  

-   **[PDECx\_QDECStop Function](GUID-D95F3326-7155-4BA0-BD0E-429C8B07FE3F.md)**  

-   **[PDECx\_QDECPositionGet Function](GUID-BC700814-3235-4D34-9B2C-FFE2AA050A8B.md)**  

-   **[PDECx\_QDECRevolutionsGet Function](GUID-7D8124AB-D40D-4C9F-AFB2-EC550001F6DB.md)**  

-   **[PDECx\_QDECAngleGet Function](GUID-7D1123DB-BD42-4CBE-BB7E-55990C5F2BFF.md)**  

-   **[PDECx\_QDECCallbackRegister Function](GUID-D0C8A408-FDFE-4A62-B407-C72A54F6C795.md)**  

-   **[PDECx\_QDECStatusGet Function](GUID-D42982FC-1D50-4F66-980C-30368EBEE481.md)**  

-   **[PDECx\_HALLInitialize Function](GUID-0F2E4DB9-598B-45B2-AD8A-61D6C58C0F59.md)**  

-   **[PDECx\_HALLStart Function](GUID-A3716B8C-92BB-4D14-A982-8E1DD040BA56.md)**  

-   **[PDECx\_HALLStop Function](GUID-DAA04453-4D19-4971-9EC8-849C538BBEAE.md)**  

-   **[PDECx\_HALLPatternGet Function](GUID-9D9EB099-9EFC-4661-97B3-20009FAC227C.md)**  

-   **[PDECx\_HALLPatternSet Function](GUID-DEE1D4B8-DA1D-4CC3-8BF8-71993D353EC8.md)**  

-   **[PDECx\_HALLTimeWindowSet Function](GUID-75FD7FE2-3DCD-4571-9094-98C60EFD8843.md)**  

-   **[PDECx\_HALLCallbackRegister Function](GUID-9D52E236-0CC2-47A3-9EAA-99A8A826286D.md)**  

-   **[PDECx\_HALLStatusGet Function](GUID-10080560-CAAA-4284-B8D5-36702ED70B86.md)**  

-   **[PDECx\_COUNTERInitialize Function](GUID-C15EF68E-D79F-48BB-86A1-3BDD164A14F4.md)**  

-   **[PDECx\_COUNTERStart Function](GUID-3E2F7BDC-9361-4488-AF3C-12D406777FCD.md)**  

-   **[PDECx\_COUNTERStop Function](GUID-5B5B075F-7048-45F7-865D-74977C823F51.md)**  

-   **[PDECx\_COUNTERCompare0Set Function](GUID-AF5BC125-B215-429C-9D40-A3D424E83320.md)**  

-   **[PDECx\_COUNTERCompare1Set Function](GUID-BBB8B4CF-48A9-4FEA-9D42-BA195E539384.md)**  

-   **[PDECx\_COUNTERCompare0Get Function](GUID-33D9F2B0-EF0B-4AC8-932D-33F904326849.md)**  

-   **[PDECx\_COUNTERCompare1Get Function](GUID-8BF59790-5965-4644-9565-4E3EE6938DFC.md)**  

-   **[PDECx\_COUNTERCallbackRegister Function](GUID-06E2F5F4-2C7C-455D-9DB4-117AEE2CF393.md)**  

-   **[PDECx\_COUNTERStatusGet Function](GUID-C41527D9-4F06-4DE9-8EF4-B70B05B14CFA.md)**  

-   **[PDEC\_QDEC\_STATUS Enum](GUID-B6A20906-B31F-4669-8E73-0887B1BFE1F7.md)**  

-   **[PDEC\_HALL\_STATUS Enum](GUID-3D053CD5-3ED7-4B57-9970-F09448D6A243.md)**  

-   **[PDEC\_COUNTER\_STATUS Enum](GUID-2C37214B-799B-4795-8C99-21AE1053DEFB.md)**  

-   **[PDEC\_QDEC\_CALLBACK Typedef](GUID-25354996-DF27-4851-AF1D-4D255E61F254.md)**  

-   **[PDEC\_HALL\_CALLBACK Typedef](GUID-9DC40FF7-D127-4A97-A4C8-153AA95B2A36.md)**  

-   **[PDEC\_COUNTER\_CALLBACK Typedef](GUID-79912FD6-D447-4970-B02F-192E40076265.md)**  

-   **[PDEC\_QDEC\_CALLBACK\_OBJ Struct](GUID-07F1ABBB-7FC3-4944-BEF6-6C31683AD257.md)**  

-   **[PDEC\_HALL\_CALLBACK\_OBJ Struct](GUID-D90AAF27-D80F-4B66-A3AF-16D9A4F4A9ED.md)**  

-   **[PDEC\_COUNTER\_CALLBACK\_OBJ Struct](GUID-0BF8C012-8FDA-4DB7-A373-345C274DF4B0.md)**  


**Parent topic:**[PIC32CM JH00 JH01 Peripheral Libraries](GUID-05924E45-D6B3-4F33-A5EA-9B080FC421D8.md)

**Parent topic:**[PIC32CM MC00 Peripheral Libraries](GUID-ADF45DC0-B32C-4D1F-9332-59EC0DF5097E.md)

**Parent topic:**[SAM D51 E51 E53 E54 Peripheral Libraries](GUID-E33B93DD-6680-477E-AA96-966208DC9A50.md)

