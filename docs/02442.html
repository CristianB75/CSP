<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>DMAC_ChainTransferSetup Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '02442.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="06570.html" target="topic">Peripheral Library Overview</a> &gt; <a href="06102.html" target="topic">Peripheral Libraries Help</a> &gt; <a href="06569.html" target="topic">Peripheral Libraries</a> &gt; <a href="02382.html" target="topic">DMAC Peripheral Library Help</a> &gt; <a href="02383.html" target="topic">Library Interface</a> &gt; b) Setup Functions &gt; <a href="02442.html" target="topic">DMAC_ChainTransferSetup Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
Microchip 32-bit Chip Support Package</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="06570.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="02456.html" target="topic">Previous</a> | <a href="02383.html" target="topic">Up</a> | <a href="02458.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: dmac_01500::DMAC_ChainTransferSetup@DMAC_CHANNEL@void *@size_t@void *@size_t@size_t Topic Title: DMAC_ChainTransferSetup Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
DMAC_ChainTransferSetup Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This function sets up a DMA channel for chain mode of transfer. The actual transfer doesn't start by using this function.&nbsp;</p>
<p class="Element10">
In chained mode, more than one DMA channels are linked to each other. DMAC_ChainTransferSetup API should be used to setup all the chained channels except the first channel of the chain. First channel of the chain should be setup and enabled using <a href="02460.html" target="topic">DMAC_ChannelTransfer</a> API. Once the first channel transfer is completed, next channel of the chain is automatically enabled and based on its setup, it completes the transfer and chain continues.&nbsp;</p>
<p class="Element10">
If callback is registered for any of the channel which is part of the chain, callback function will be called when the transfer of corresponding channel completes. The callback function will be called with a DMAC_TRANSFER_COMPLETE event if the transfer was processed successfully and a DMAC_TRANSFER_ERROR event if the transfer was not processed successfully.&nbsp;</p>
<p class="Element10">
When already a transfer is in progress, this API will return false indicating that transfer setup is not accepted.</p></div>
</div>
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #000080">bool</span></strong> <strong><span style="color: #000000">DMAC_ChainTransferSetup</span></strong>(
    <a href="02443.html" target="topic">DMAC_CHANNEL</a> <strong><span style="color: #000000">channel</span></strong>, 
    <strong><span style="color: #000080">const</span></strong> <strong><span style="color: #000080">void</span></strong> * <strong><span style="color: #000000">srcAddr</span></strong>, 
    size_t <strong><span style="color: #000000">srcSize</span></strong>, 
    <strong><span style="color: #000080">const</span></strong> <strong><span style="color: #000080">void</span></strong> * <strong><span style="color: #000000">destAddr</span></strong>, 
    size_t <strong><span style="color: #000000">destSize</span></strong>, 
    size_t <strong><span style="color: #000000">cellSize</span></strong>
);</pre></div></div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">

<ul class="Element630">
<li class="Element600">DMAC should have been initialized by calling the <a href="02479.html" target="topic">DMAC_Initialize</a>.</li>
<li class="Element600">Channels chaining order should be appropriately configured in MHC configuration tree</li>
</ul></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
DMAC_CHANNEL channel&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
DMA channel to be setup<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
srcAddr&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
pointer to source data<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
srcSize&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Size of the source<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
destAddr&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
pointer to where data is to be moved to<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
destSize&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Size of the destination<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
cellSize&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Size of the cell&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">

<ul class="Element630">
<li class="Element600">true - If setup request is accepted.</li>
<li class="Element600">false - If previous transfer is in progress and the setup request is rejected.</li>
</ul></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element13"><div class="Element12"><pre class="Element12"><i><span style="color: #008000">// Transfer 10 bytes of data to UART TX using DMAC channel 1</span></i>
uint8_t buf1[10] = {0,1,2,3,4,5,6,7,8,9};
uint8_t buf2[10] = {10,11,12,13,14,15,16,17,18,19};
<strong><span style="color: #000080">void</span></strong> *srcAddr = (uint8_t *) buf1;
<strong><span style="color: #000080">void</span></strong> *destAddr = (uin8_t*) &amp;SPI1BUF;
size_t size = 10;

<i><span style="color: #008000">// setup channel 2, it should be configured in MHC to be chained after channel 1</span></i>
DMAC_ChainTransferSetup(DMAC_CHANNEL_2, (<strong><span style="color: #000080">void</span></strong> *)&amp;buf2, size, destAddr, 1, 1)
<i><span style="color: #008000">// setup and enable channel 1, once its transfer completes, channel 2 will be automatically enabled</span></i>
<a href="02460.html" target="topic">DMAC_ChannelTransfer</a>(DMAC_CHANNEL_1, (<strong><span style="color: #000080">void</span></strong> *)&amp;buf1, size, destAddr, 1, 1)
</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="06570.html" target="topic">Peripheral Library Overview</a> &gt; <a href="06102.html" target="topic">Peripheral Libraries Help</a> &gt; <a href="06569.html" target="topic">Peripheral Libraries</a> &gt; <a href="02382.html" target="topic">DMAC Peripheral Library Help</a> &gt; <a href="02383.html" target="topic">Library Interface</a> &gt; b) Setup Functions &gt; <a href="02442.html" target="topic">DMAC_ChainTransferSetup Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
Microchip 32-bit Chip Support Package</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="06570.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="02456.html" target="topic">Previous</a> | <a href="02383.html" target="topic">Up</a> | <a href="02458.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: dmac_01500::DMAC_ChainTransferSetup@DMAC_CHANNEL@void *@size_t@void *@size_t@size_t Topic Title: DMAC_ChainTransferSetup Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>