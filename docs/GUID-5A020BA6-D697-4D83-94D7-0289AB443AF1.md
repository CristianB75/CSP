# Supply Controller \(SUPC\)

The Supply Controller \(SUPC\) manages the voltage reference and power<br />supply of the device.

The SUPC controls the voltage regulators for the core \(VDDCORE\) domain.<br />It sets the voltage regulators according to the sleep modes, or the<br />user configuration.

The SUPC embeds two Brown-Out Detectors. BODVDD monitors the voltage<br />applied to the device \(VDD\) and BODCORE monitors the internal voltage<br />to the core \(VDDCORE\). The BOD can monitor the supply voltage<br />continuously \(continuous mode\) or periodically \(sampling mode\).

The SUPC generates also a selectable reference voltage and a voltage<br />dependent on the temperature which can be used by analog modules like<br />the ADC, SDADC or DAC.

**Using The Library**

The VDD Brown-Out Detector \(BODVDD\) is able to monitor the VDD supply<br />and compares the voltage with the brown-out threshold level . When VDD<br />crosses below the brown-out threshold level, the BODVDD can generate<br />either an interrupt or a Reset. Brown out interrupt enables user to<br />save critical data to prepare the system for a power-down.

**Callback method**

This example demonstrates how to get callback on brown-out detection to<br />save critical work.

```c
MY_APP_OBJ myAppObj;

void BOD_EventHandler(uintptr_t context)
{
    // The context was set to an application specific object.
    // It is now retrievable easily in the event handler.
    MY_APP_OBJ myAppObj = (MY_APP_OBJ *) context;

    // Brown-out interrupt occurred. Save critical data.
}

int main(void)
{
    /* Register callback function */
    SUPC_BODVDDCallbackRegister(BOD_EventHandler, (uintptr_t)&myAppObj);

    while(true)
    {

    }
}
```

**Library Interface**

Supply Controller peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|SUPC\_Initialize|Initializes the SUPC peripheral|
|SUPC\_SelectVoltageRegulator|Selects the main voltage regulator|
|SUPC\_SetOutputPin|Sets a specific output pin \(OUTx\) to logic HIGH|
|SUPC\_ClearOutputPin|Clears a specific output pin \(OUTx\) to logic LOW|
|SUPC\_BODVDDCallbackRegister|Registers the function to be called when a Brown Out Event has occurred|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|SUPC\_OUTPIN|Enum|Identifies the output pins of SUPC peripheral|
|SUPC\_VREGSEL|Enum|Identifies the Main Voltage Regulators|
|SUPC\_BODVDD\_CALLBACK|Typedef|Defines the data type and function signature for the SUPC peripheral callback function|

-   **[SUPC\_Initialize Function](GUID-D18356A1-3487-41FC-A6AA-5E425483A02C.md)**  

-   **[SUPC\_SelectVoltageRegulator Function](GUID-45EBB2E1-C6FD-4A01-AA8A-5F2680800A65.md)**  

-   **[SUPC\_SetOutputPin Function](GUID-CDB719FA-2ED6-4A8E-A955-92DF1DBB1706.md)**  

-   **[SUPC\_ClearOutputPin Function](GUID-8F52D2BD-6421-4FF7-A4FD-D908E4C4F686.md)**  

-   **[SUPC\_BODVDDCallbackRegister Function](GUID-DA47E025-A6FD-4336-8019-A653A95B8DD6.md)**  

-   **[SUPC\_OUTPIN Enum](GUID-140606A3-FD67-4ED2-9726-4BBA4755F5D2.md)**  

-   **[SUPC\_VREGSEL Enum](GUID-AC111116-62C6-40E1-956B-4E73EFF5B55B.md)**  

-   **[SUPC\_BODVDD\_CALLBACK Typedef](GUID-EA5078A6-7234-47F4-B713-5FF81E7A9EA2.md)**  


**Parent topic:**[PIC32CM JH00 JH01 Peripheral Libraries](GUID-05924E45-D6B3-4F33-A5EA-9B080FC421D8.md)

**Parent topic:**[PIC32CM LE00 LS00 LS60 Peripheral Libraries](GUID-F80F1B47-C3E4-4803-ACB6-D30AC5EB7B45.md)

**Parent topic:**[PIC32CM MC00 Peripheral Libraries](GUID-ADF45DC0-B32C-4D1F-9332-59EC0DF5097E.md)

**Parent topic:**[SAM C20 C21 Peripheral Libraries](GUID-49072E61-B7F2-4B32-952E-D6F5FB361AFB.md)

**Parent topic:**[SAM L1X Peripheral Libraries](GUID-D259BBBC-6BC2-4F69-849B-C06DF4DDD5F8.md)

**Parent topic:**[SAM L21 Peripheral Libraries](GUID-230EF724-3CDA-4F88-8E42-0EF4C1CA112D.md)

**Parent topic:**[SAM L22 Peripheral Libraries](GUID-C3997EBF-87A0-4DD9-BCB0-C8A58B62E44B.md)

