# OTPC\_WritePacket Function

**Parent topic:**[OTP Memory Controller \(OTPC\)](GUID-2A1E045D-389C-4854-9EDD-C851B7EDC715.md)

## C

```c
otpc_error_code_t OTPC_WritePacket(const OTPC_NEW_PACKET *packet,
const uint32_t *payload,
uint16_t *headerAddress,
uint16_t *sizeWritten);
```

## Summary

Perform an OTPC packet write.

## Description

Create a new packet with the given payload. Returns the address of the packet and size written \(in number of bytes\).

## Precondition

OTPC\_Initialize\(\) function must have been called first.

## Parameters

|Param|Description|
|-----|-----------|
|packet|Pointer to the structure defining the packet attributes|
|payload|Pointer to the address of new payload|
|headerAddress|Address of the newly created packet\(output\)\}|
|sizeWritten|number of bytes written into the new packet|

## Returns

otpc error code.

## Example

```c
OTPC_Initialize();
OTPC_WritePacket(&packet, &payload, &headerAddress, &sizeWritten);
```

## Remarks

None

