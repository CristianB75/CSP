# Frequency Meter \(FREQM\)

The Frequency Meter \(FREQM\) can be used to accurately measure the<br />frequency of a clock by comparing it to a known reference clock.

**Using The Library**

AFEC converts all the enabled channels on software or hardware<br />triggers. It provides both polling and callback methods to indicate the<br />end of conversion to read the converted data from the result registers.

-   With polling, the application will need to continuously poll to<br />check if the conversion is completed.

-   With callback, the registered callback function will be called once<br />the conversion is completed. This means the application do not have to<br />poll continuously.


**Callback method**

This example demonstrates frequency measurement with callback.

```c
void AFEC_EventHandler(uintptr_t context)
{
    uint32_t frequencyInHertz;

    if(FREQM_ErrorGet() == FREQM_ERROR_NONE)
    {
        frequencyInHertz = FREQM_FrequencyGet();
    }
}


int main(void)
{
    FREQM_CallbackRegister(&amp;FREQ_EventHandler,(uintptr_t)NULL);

    FREQM_MeasurementStart();

}
```

**Polling method**

This example demonstrates frequency measurement with polling

```c
uint32_t frequencyInHertz;

/* Start Frequency Measurement */
FREQM_MeasurementStart();

/* Wait for measurement completion */
while(FREQM_IsBusy());

/* Read the result */
if(FREQM_ErrorGet() == FREQM_ERROR_NONE)
{
    frequencyInHertz = FREQM_FrequencyGet();
}
```

**Library Interface**

Frequency Meter peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|FREQM\_Initialize|Initializes FREQM module|
|FREQM\_MeasurementStart|This function starts the frequency measurement|
|FREQM\_CallbackRegister|Allows application to register a callback function|
|FREQM\_IsBusy|Returns the measurement status of an on-going frequency measurement operation|
|FREQM\_FrequencyGet|Returns the measured frequency in Hz|
|FREQM\_ErrorGet|Returns error that may have occurred during the frequency measurement process|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|FREQM\_ERROR|Enum|Identifies the possible FREQM module errors|
|FREQM\_CALLBACK|Typedef|Pointer to a FREQM CallBack function|

-   **[FREQM\_Initialize Function](GUID-167B693D-F8C6-4245-99F0-7E34AB8CA75B.md)**  

-   **[FREQM\_MeasurementStart Function](GUID-209DC972-9670-4404-8060-A8A26FB7A7EA.md)**  

-   **[FREQM\_CallbackRegister Function](GUID-D619DEC0-CA7F-4F76-8359-BF395ECCBC25.md)**  

-   **[FREQM\_IsBusy Function](GUID-2BACD05D-B210-4D10-8F5A-E3114A9361F8.md)**  

-   **[FREQM\_FrequencyGet Function](GUID-1CDF2A07-C2B3-4E31-8A3E-8BF708198883.md)**  

-   **[FREQM\_ErrorGet Function](GUID-4D3B42BB-901D-489D-B58E-A38C175C4E20.md)**  

-   **[FREQM\_ERROR Enum](GUID-86A3E535-163B-4C3E-B5CE-19935A109F2E.md)**  

-   **[FREQM\_CALLBACK Typedef](GUID-3119D306-7AB3-4660-9901-C9440ABBB062.md)**  


**Parent topic:**[PIC32CM JH00 JH01 Peripheral Libraries](GUID-05924E45-D6B3-4F33-A5EA-9B080FC421D8.md)

**Parent topic:**[PIC32CM LE00 LS00 LS60 Peripheral Libraries](GUID-F80F1B47-C3E4-4803-ACB6-D30AC5EB7B45.md)

**Parent topic:**[PIC32CM MC00 Peripheral Libraries](GUID-ADF45DC0-B32C-4D1F-9332-59EC0DF5097E.md)

**Parent topic:**[PIC32CX BZ2 WBZ45 Peripheral Libraries](GUID-3D519D00-FDEE-4A3E-9EF7-20F335E64CEE.md)

**Parent topic:**[PIC32CX BZ3 WBZ3 Peripheral Libraries](GUID-5752DD6D-6E5D-484D-B564-DA87788492F3.md)

**Parent topic:**[PIC32CZ-CA Peripheral Libraries](GUID-7EAC3718-3D58-4007-AB2A-A0E3C167A2DF.md)

**Parent topic:**[SAM C20 C21 Peripheral Libraries](GUID-49072E61-B7F2-4B32-952E-D6F5FB361AFB.md)

**Parent topic:**[SAM D51 E51 E53 E54 Peripheral Libraries](GUID-E33B93DD-6680-477E-AA96-966208DC9A50.md)

**Parent topic:**[SAM L1X Peripheral Libraries](GUID-D259BBBC-6BC2-4F69-849B-C06DF4DDD5F8.md)

**Parent topic:**[SAM L22 Peripheral Libraries](GUID-C3997EBF-87A0-4DD9-BCB0-C8A58B62E44B.md)

