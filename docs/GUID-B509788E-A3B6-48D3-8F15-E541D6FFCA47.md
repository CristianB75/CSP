# True Random Number Generator \(TRNG\)

As soon as the TRNG is enabled, the module provides a new 32-bit random data, for every 84 peripheral clock cycles.

The TRNG can optionally generate an interrupt when a new random value is available.

**Using The Library**

The library provides both blocking and callback methods to generate and read the random number.

-   With blocking API, it enables the TRNG module, waits for new random number to be available and then returns the newly generated random number.

-   With callback, it enables the TRNG module and the registered callback function will be called once the new random value is available.


**Blocking API**

The example code to generate 32-bit random number using blocking API is given below.

```c
uint32_t trueRandomNumber

trueRandomNumber = TRNG_ReadData();
```

**Callback method**

This example demonstrates how to use callback to generate 32-bit random number.

```c
uint32_t trueRandomNumber;

/* Random number is provided as part of callback */
void TRNG_EventHandler(uint32_t randomNumber, uintptr_t context)
{
    trueRandomNumber = randomNumber;
}

int main(void)
{
    /* Register Callback */
    TRNG_CallbackRegister(TRNG_EventHandler, (uintptr_t) NULL);

    /* Enable TRNG */
    TRNG_RandomNumberGenerate();
}
```

**Library Interface**

True Random Number Generator peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|TRNG\_RandomNumberGenerate|Initiates generation of random number using the TRNG peripheral in interrupt mode|
|TRNG\_ReadData|Generates and returns a 32-bit random number in blocking mode|
|TRNG\_CallbackRegister|Sets the pointer to the function \(and it's context\) to be called when the random number is ready to be read|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|TRNG\_CALLBACK|Typedef|Defines the data type and function signature for the TRNG peripheral callback function|

-   **[TRNG\_RandomNumberGenerate Function](GUID-C976089F-C44C-4D70-AEC9-9DACA84D7025.md)**  

-   **[TRNG\_ReadData Function](GUID-C0AEF1E1-AD2D-4450-B2D9-F2A324A0052B.md)**  

-   **[TRNG\_CallbackRegister Function](GUID-CC407C40-D189-4817-AE28-3E0CD6B7A698.md)**  

-   **[TRNG\_CALLBACK Typedef](GUID-8E5C7C19-1D97-45E7-B885-F7BC67D7EA81.md)**  


**Parent topic:**[PIC32CX MT Peripheral Libraries](GUID-EEA7836F-956F-4526-BF85-CD488C4CE708.md)

**Parent topic:**[SAM 9X60 Peripheral Libraries](GUID-CCAAC7F0-6BA8-4630-91AE-69718D188CBF.md)

**Parent topic:**[SAM 9X7 Peripheral Libraries](GUID-FB6741AA-355E-483F-9727-37728953D583.md)

**Parent topic:**[SAM A5D2 Peripheral Libraries](GUID-F6605EDC-FC71-4081-8560-0C1681C1FA8D.md)

**Parent topic:**[SAM A7G5 Peripheral Libraries](GUID-7EEB1AC5-4BFF-4259-97AD-8CF7367D7973.md)

**Parent topic:**[SAM E70 S70 V70 V71 Peripheral Libraries](GUID-6E45C146-6F6D-452A-A2E2-228C3CC905D7.md)

**Parent topic:**[SAM RH707 Peripheral Libraries](GUID-C2AC236D-363B-4378-A381-B281F67C8647.md)

**Parent topic:**[SAM RH71 Peripheral Libraries](GUID-AC9BE324-E486-46EA-8D16-E04E15288053.md)

