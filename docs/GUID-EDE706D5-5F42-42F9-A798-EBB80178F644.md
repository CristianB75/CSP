# True Random Number Generator \(TRNG\)

As soon as the TRNG is enabled, the module provides a new 32-bit random data, for every 84 peripheral clock cycles.

The TRNG can optionally generate an interrupt when a new random value is available.

**Using The Library**

The library provides both blocking and callback methods to generate and read the random number.

-   With blocking API, it enables the TRNG module, waits for new random number to be available and then returns the newly generated random number.

-   With callback, it enables the TRNG module and the registered callback function will be called once the new random value is available.


**Blocking API**

The example code to generate 32-bit random number using blocking API is given below.

```c
uint32_t trueRandomNumber

trueRandomNumber = TRNG_ReadData();
```

**Callback method**

This example demonstrates how to use callback to generate 32-bit random number.

```c
uint32_t trueRandomNumber;

/* Random number is provided as part of callback */
void TRNG_EventHandler(uint32_t randomNumber, uintptr_t context)
{
    trueRandomNumber = randomNumber;
}

int main(void)
{
    /* Register Callback */
    TRNG_CallbackRegister(TRNG_EventHandler, (uintptr_t) NULL);

    /* Enable TRNG */
    TRNG_RandomNumberGenerate();
}
```

**Library Interface**

True Random Number Generator peripheral library provides the following interfaces:

**Functions**

|Name|Description|
|----|-----------|
|TRNG\_Initialize|Initializes TRNG module of the device|
|TRNG\_RandomNumberGenerate|Initiates generation of random number using the TRNG peripheral in interrupt mode|
|TRNG\_ReadData|Generates and returns a 32-bit random number in blocking mode|
|TRNG\_CallbackRegister|Sets the pointer to the function \(and it's context\) to be called when the random number is ready to be read|

**Data types and constants**

|Name|Type|Description|
|----|----|-----------|
|TRNG\_CALLBACK|Typedef|Defines the data type and function signature for the TRNG peripheral callback function|

-   **[TRNG\_Initialize Function](GUID-F54C11F5-DCBC-45D3-8EF0-55D08302CB72.md)**  

-   **[TRNG\_RandomNumberGenerate Function](GUID-C976089F-C44C-4D70-AEC9-9DACA84D7025.md)**  

-   **[TRNG\_ReadData Function](GUID-C0AEF1E1-AD2D-4450-B2D9-F2A324A0052B.md)**  

-   **[TRNG\_CallbackRegister Function](GUID-CC407C40-D189-4817-AE28-3E0CD6B7A698.md)**  

-   **[TRNG\_CALLBACK Typedef](GUID-8E5C7C19-1D97-45E7-B885-F7BC67D7EA81.md)**  


**Parent topic:**[PIC32CM LE00 LS00 LS60 Peripheral Libraries](GUID-F80F1B47-C3E4-4803-ACB6-D30AC5EB7B45.md)

**Parent topic:**[PIC32CX BZ2 WBZ45 Peripheral Libraries](GUID-3D519D00-FDEE-4A3E-9EF7-20F335E64CEE.md)

**Parent topic:**[PIC32CZ-CA Peripheral Libraries](GUID-7EAC3718-3D58-4007-AB2A-A0E3C167A2DF.md)

**Parent topic:**[SAM D51 E51 E53 E54 Peripheral Libraries](GUID-E33B93DD-6680-477E-AA96-966208DC9A50.md)

**Parent topic:**[SAM L1X Peripheral Libraries](GUID-D259BBBC-6BC2-4F69-849B-C06DF4DDD5F8.md)

**Parent topic:**[SAM L21 Peripheral Libraries](GUID-230EF724-3CDA-4F88-8E42-0EF4C1CA112D.md)

**Parent topic:**[SAM L22 Peripheral Libraries](GUID-C3997EBF-87A0-4DD9-BCB0-C8A58B62E44B.md)

