<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Controller Area Network (CAN)" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="controller-area-network-can" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>Controller Area Network (CAN)</title>
<meta name="Microsoft.Help.Id" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8-controller-area-network-can" />
<meta name="Microsoft.Help.TocParent" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Peripheral Libraries Reference A 09/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-F5B9ED1E-1BBD-4120-8CF5-C3104BED03CA"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="controller-area-network-can">
<h1 class="title topictitle1" id="ariaid-title1">Controller Area Network (CAN)</h1><div class="body"><span class="undefined_element">
The CAN controller provides all the features required to implement the
serial communication protocol CAN, the CAN specification as referred to
by ISO/11898A (2.0 Part A and 2.0 Part B) for high speeds and
ISO/11519-2 for low speeds. The CAN Controller is able to handle all
types of frames (Data, Remote, Error and Overload) and achieves a
bitrate of 1 Mbit/s.
</span><p class="p">CAN controller accesses are made through configuration registers. 8
independent message objects (mailboxes) are implemented.</p>
<p class="p">Any mailbox can be programmed as a reception buffer block (even
non-consecutive buffers). For the reception of defined messages, one or
several message objects can be masked without participating in the
buffer feature. An interrupt is generated when the buffer is full.
According to the mailbox configuration, the first message received can
be locked in the CAN controller registers until the application
acknowledges it, or this message can be discarded by new received
messages.</p>
<p class="p">Any mailbox can be programmed for transmission. Several transmission
mailboxes can be enabled in the same time.</p>
<p class="p"><strong class="ph b">Using The Library</strong></p>
<p class="p">The CAN library supports the normal mode. The CAN Plib can transfer
message in a polling or an interrupt mode.</p>
<p class="p"><strong class="ph b">CAN normal operation with polling</strong></p>
<p class="p">The following example shows the CAN normal mode operation with polling
implementation.</p>
<pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d936653e28', this);">Copy</button><code id="d936653e28" content="#include &lt;stddef.h&gt;                     // Defines NULL&#xA;#include &lt;stdbool.h&gt;                    // Defines true&#xA;#include &lt;stdlib.h&gt;                     // Defines EXIT_FAILURE&#xA;#include &#34;definitions.h&#34;                // SYS function prototypes&#xA;&#xA;/* LED Toggle */&#xA;#define LED_Toggle() LED_GREEN_Toggle()&#xA;&#xA;void print_menu(void)&#xA;{&#xA;    printf(&#34; ------------------------------ \r\n&#34;);   &#xA;    printf(&#34; Press '1' to Transmit message \r\n&#34;);&#xA;    printf(&#34; Press '2' to Receive message \r\n&#34;);&#xA;}&#xA;&#xA;// *****************************************************************************&#xA;// *****************************************************************************&#xA;// Section: Main Entry Point&#xA;// *****************************************************************************&#xA;// *****************************************************************************&#xA;&#xA;int main ( void )&#xA;{&#xA;    uint8_t user_input = 0;&#xA;    uint32_t messageID = 0;&#xA;    uint8_t message[8];&#xA;    uint8_t messageLength = 0;&#xA;    uint32_t status = 0;&#xA;    &#xA;    uint8_t rx_message[8];&#xA;    uint32_t rx_messageID = 0;&#xA;    uint8_t rx_messageLength = 0;&#xA;    CAN_MSG_RX_ATTRIBUTE msgAttr = CAN_MSG_RX_DATA_FRAME;&#xA;&#xA;    /* Initialize all modules */&#xA;    SYS_Initialize ( NULL );&#xA;&#xA;    LED_RED_Clear();&#xA;    LED_GREEN_Clear();&#xA;    LED_BLUE_Clear();&#xA;&#xA;    printf(&#34; ------------------------------ \r\n&#34;);&#xA;    printf(&#34;            CAN Demo            \r\n&#34;);&#xA;    printf(&#34; ------------------------------ \r\n&#34;);&#xA;    &#xA;    print_menu();&#xA;    &#xA;    /* Prepare the message to send*/&#xA;    messageID = 0x469;&#xA;    messageLength = 8;&#xA;    for (uint8_t count = 8; count &gt;=1; count--){&#xA;        message[count - 1] = count;&#xA;    }&#xA;    &#xA;    while ( true )&#xA;    {&#xA;        /* Maintain state machines of all polled Harmony modules. */&#xA;        scanf(&#34;%c&#34;, (char *) &amp;user_input);&#xA;        &#xA;        switch (user_input)&#xA;        {&#xA;            case '1': &#xA;                printf(&#34; Transmitting Message:&#34;);&#xA;                if (CAN1_MessageTransmit(messageID, messageLength, message, CAN_MAILBOX_DATA_FRAME_TX) == true)&#xA;                {    &#xA;                    printf(&#34;Success \r\n&#34;);&#xA;                    LED_Toggle();&#xA;                }&#xA;                else&#xA;                {&#xA;                    printf(&#34;Failed \r\n&#34;);&#xA;                }             &#xA;                break;&#xA;            case '2':&#xA;                printf(&#34; Waiting for message: \r\n&#34;);&#xA;                while (true)&#xA;                {&#xA;                    if (CAN1_InterruptGet(CAN_INTERRUPT_MB1_MASK))&#xA;                    {&#xA;                        /* Check CAN Status */&#xA;                        status = CAN1_ErrorGet();&#xA;&#xA;                        if ((status &amp; (CAN_ERROR_BOFF | CAN_ERROR_CERR |&#xA;                                        CAN_ERROR_SERR | CAN_ERROR_AERR |&#xA;                                        CAN_ERROR_FERR | CAN_ERROR_BERR)) == CAN_ERROR_NONE)&#xA;                        {&#xA;                            memset(rx_message, 0x00, sizeof(rx_message));&#xA;                            &#xA;                            /* Receive New Message */&#xA;                            if (CAN1_MessageReceive(&amp;rx_messageID, &amp;rx_messageLength, rx_message, 0, CAN_MAILBOX_DATA_FRAME_RX_OVERWRITE, &amp;msgAttr) == true)  &#xA;                            {&#xA;                                printf(&#34; New Message Received    \r\n&#34;);&#xA;                                status = CAN1_ErrorGet();&#xA;                                if ((status &amp; (CAN_ERROR_BOFF | CAN_ERROR_CERR |&#xA;                                               CAN_ERROR_SERR | CAN_ERROR_AERR |&#xA;                                               CAN_ERROR_FERR | CAN_ERROR_BERR)) == CAN_ERROR_NONE)&#xA;                                {&#xA;                                    /* Print message to Console */&#xA;                                    uint8_t length = rx_messageLength;&#xA;                                    printf(&#34; Message - ID : 0x%x Length : 0x%x &#34;, (unsigned int) rx_messageID,(unsigned int) rx_messageLength);&#xA;                                    printf(&#34;Message : &#34;);&#xA;                                    while(length)&#xA;                                    {&#xA;                                        printf(&#34;0x%x &#34;, rx_message[rx_messageLength - length--]);&#xA;                                    }&#xA;                                    printf(&#34;\r\n&#34;);&#xA;                                    LED_Toggle();&#xA;                                    break;&#xA;                                }&#xA;                                else&#xA;                                {&#xA;                                    printf(&#34;Error in received message&#34;);&#xA;                                }&#xA;                            }&#xA;                            else&#xA;                            {&#xA;                                printf(&#34;Message Reception Failed \r&#34;);&#xA;                            }&#xA;                        }&#xA;                        else&#xA;                        {&#xA;                            printf(&#34;Error in last received message&#34;);&#xA;                        }&#xA;                    }&#xA;                }&#xA;                break;&#xA;            default:&#xA;                printf(&#34; Invalid Input \r\n&#34;);&#xA;                break;&#xA;        }&#xA;        &#xA;        print_menu();&#xA;        &#xA;    }&#xA;&#xA;    /* Execution should not come here during normal operation */&#xA;&#xA;    return ( EXIT_FAILURE );&#xA;}"><span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">&lt;stddef.h&gt;</span>                     </span><span class="ph token comment">// Defines NULL</span>
<span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">&lt;stdbool.h&gt;</span>                    </span><span class="ph token comment">// Defines true</span>
<span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">&lt;stdlib.h&gt;</span>                     </span><span class="ph token comment">// Defines EXIT_FAILURE</span>
<span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">"definitions.h"</span>                </span><span class="ph token comment">// SYS function prototypes</span>

<span class="ph token comment">/* LED Toggle */</span>
<span class="ph token macro property">#<span class="ph token directive keyword">define</span> LED_Toggle() LED_GREEN_Toggle()</span>

<span class="ph token keyword">void</span> <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token keyword">void</span><span class="ph token punctuation">)</span>
<span class="ph token punctuation">{</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" ------------------------------ \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>   
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Press '1' to Transmit message \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Press '2' to Receive message \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
<span class="ph token punctuation">}</span>

<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// Section: Main Entry Point</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// *****************************************************************************</span>

<span class="ph token keyword">int</span> main <span class="ph token punctuation">(</span> <span class="ph token keyword">void</span> <span class="ph token punctuation">)</span>
<span class="ph token punctuation">{</span>
    uint8_t user_input <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    uint32_t messageID <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    uint8_t message<span class="ph token punctuation">[</span><span class="ph token number">8</span><span class="ph token punctuation">]</span><span class="ph token punctuation">;</span>
    uint8_t messageLength <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    uint32_t status <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    
    uint8_t rx_message<span class="ph token punctuation">[</span><span class="ph token number">8</span><span class="ph token punctuation">]</span><span class="ph token punctuation">;</span>
    uint32_t rx_messageID <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    uint8_t rx_messageLength <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    CAN_MSG_RX_ATTRIBUTE msgAttr <span class="ph token operator">=</span> CAN_MSG_RX_DATA_FRAME<span class="ph token punctuation">;</span>

    <span class="ph token comment">/* Initialize all modules */</span>
    SYS_Initialize <span class="ph token punctuation">(</span> <span class="ph token constant">NULL</span> <span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

    <span class="ph token function">LED_RED_Clear</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">LED_GREEN_Clear</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">LED_BLUE_Clear</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" ------------------------------ \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"            CAN Demo            \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" ------------------------------ \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    
    <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    
    <span class="ph token comment">/* Prepare the message to send*/</span>
    messageID <span class="ph token operator">=</span> <span class="ph token number">0x469</span><span class="ph token punctuation">;</span>
    messageLength <span class="ph token operator">=</span> <span class="ph token number">8</span><span class="ph token punctuation">;</span>
    <span class="ph token keyword">for</span> <span class="ph token punctuation">(</span>uint8_t count <span class="ph token operator">=</span> <span class="ph token number">8</span><span class="ph token punctuation">;</span> count <span class="ph token operator">&gt;=</span><span class="ph token number">1</span><span class="ph token punctuation">;</span> count<span class="ph token operator">--</span><span class="ph token punctuation">)</span><span class="ph token punctuation">{</span>
        message<span class="ph token punctuation">[</span>count <span class="ph token operator">-</span> <span class="ph token number">1</span><span class="ph token punctuation">]</span> <span class="ph token operator">=</span> count<span class="ph token punctuation">;</span>
    <span class="ph token punctuation">}</span>
    
    <span class="ph token keyword">while</span> <span class="ph token punctuation">(</span> true <span class="ph token punctuation">)</span>
    <span class="ph token punctuation">{</span>
        <span class="ph token comment">/* Maintain state machines of all polled Harmony modules. */</span>
        <span class="ph token function">scanf</span><span class="ph token punctuation">(</span><span class="ph token string">"%c"</span><span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span><span class="ph token keyword">char</span> <span class="ph token operator">*</span><span class="ph token punctuation">)</span> <span class="ph token operator">&amp;</span>user_input<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
        
        <span class="ph token keyword">switch</span> <span class="ph token punctuation">(</span>user_input<span class="ph token punctuation">)</span>
        <span class="ph token punctuation">{</span>
            <span class="ph token keyword">case</span> <span class="ph token string">'1'</span><span class="ph token operator">:</span> 
                <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Transmitting Message:"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token function">CAN1_MessageTransmit</span><span class="ph token punctuation">(</span>messageID<span class="ph token punctuation">,</span> messageLength<span class="ph token punctuation">,</span> message<span class="ph token punctuation">,</span> CAN_MAILBOX_DATA_FRAME_TX<span class="ph token punctuation">)</span> <span class="ph token operator">==</span> true<span class="ph token punctuation">)</span>
                <span class="ph token punctuation">{</span>    
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Success \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token function">LED_Toggle</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token punctuation">}</span>
                <span class="ph token keyword">else</span>
                <span class="ph token punctuation">{</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Failed \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token punctuation">}</span>             
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token keyword">case</span> <span class="ph token string">'2'</span><span class="ph token operator">:</span>
                <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Waiting for message: \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token keyword">while</span> <span class="ph token punctuation">(</span>true<span class="ph token punctuation">)</span>
                <span class="ph token punctuation">{</span>
                    <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token function">CAN1_InterruptGet</span><span class="ph token punctuation">(</span>CAN_INTERRUPT_MB1_MASK<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span>
                    <span class="ph token punctuation">{</span>
                        <span class="ph token comment">/* Check CAN Status */</span>
                        status <span class="ph token operator">=</span> <span class="ph token function">CAN1_ErrorGet</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

                        <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>status <span class="ph token operator">&amp;</span> <span class="ph token punctuation">(</span>CAN_ERROR_BOFF <span class="ph token operator">|</span> CAN_ERROR_CERR <span class="ph token operator">|</span>
                                        CAN_ERROR_SERR <span class="ph token operator">|</span> CAN_ERROR_AERR <span class="ph token operator">|</span>
                                        CAN_ERROR_FERR <span class="ph token operator">|</span> CAN_ERROR_BERR<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span> <span class="ph token operator">==</span> CAN_ERROR_NONE<span class="ph token punctuation">)</span>
                        <span class="ph token punctuation">{</span>
                            <span class="ph token function">memset</span><span class="ph token punctuation">(</span>rx_message<span class="ph token punctuation">,</span> <span class="ph token number">0x00</span><span class="ph token punctuation">,</span> <span class="ph token keyword">sizeof</span><span class="ph token punctuation">(</span>rx_message<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                            
                            <span class="ph token comment">/* Receive New Message */</span>
                            <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token function">CAN1_MessageReceive</span><span class="ph token punctuation">(</span><span class="ph token operator">&amp;</span>rx_messageID<span class="ph token punctuation">,</span> <span class="ph token operator">&amp;</span>rx_messageLength<span class="ph token punctuation">,</span> rx_message<span class="ph token punctuation">,</span> <span class="ph token number">0</span><span class="ph token punctuation">,</span> CAN_MAILBOX_DATA_FRAME_RX_OVERWRITE<span class="ph token punctuation">,</span> <span class="ph token operator">&amp;</span>msgAttr<span class="ph token punctuation">)</span> <span class="ph token operator">==</span> true<span class="ph token punctuation">)</span>  
                            <span class="ph token punctuation">{</span>
                                <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" New Message Received    \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                status <span class="ph token operator">=</span> <span class="ph token function">CAN1_ErrorGet</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>status <span class="ph token operator">&amp;</span> <span class="ph token punctuation">(</span>CAN_ERROR_BOFF <span class="ph token operator">|</span> CAN_ERROR_CERR <span class="ph token operator">|</span>
                                               CAN_ERROR_SERR <span class="ph token operator">|</span> CAN_ERROR_AERR <span class="ph token operator">|</span>
                                               CAN_ERROR_FERR <span class="ph token operator">|</span> CAN_ERROR_BERR<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span> <span class="ph token operator">==</span> CAN_ERROR_NONE<span class="ph token punctuation">)</span>
                                <span class="ph token punctuation">{</span>
                                    <span class="ph token comment">/* Print message to Console */</span>
                                    uint8_t length <span class="ph token operator">=</span> rx_messageLength<span class="ph token punctuation">;</span>
                                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Message - ID : 0x%x Length : 0x%x "</span><span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span><span class="ph token keyword">unsigned</span> <span class="ph token keyword">int</span><span class="ph token punctuation">)</span> rx_messageID<span class="ph token punctuation">,</span><span class="ph token punctuation">(</span><span class="ph token keyword">unsigned</span> <span class="ph token keyword">int</span><span class="ph token punctuation">)</span> rx_messageLength<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Message : "</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                    <span class="ph token keyword">while</span><span class="ph token punctuation">(</span>length<span class="ph token punctuation">)</span>
                                    <span class="ph token punctuation">{</span>
                                        <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"0x%x "</span><span class="ph token punctuation">,</span> rx_message<span class="ph token punctuation">[</span>rx_messageLength <span class="ph token operator">-</span> length<span class="ph token operator">--</span><span class="ph token punctuation">]</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                    <span class="ph token punctuation">}</span>
                                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"\r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                    <span class="ph token function">LED_Toggle</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                    <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
                                <span class="ph token punctuation">}</span>
                                <span class="ph token keyword">else</span>
                                <span class="ph token punctuation">{</span>
                                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Error in received message"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                                <span class="ph token punctuation">}</span>
                            <span class="ph token punctuation">}</span>
                            <span class="ph token keyword">else</span>
                            <span class="ph token punctuation">{</span>
                                <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Message Reception Failed \r"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                            <span class="ph token punctuation">}</span>
                        <span class="ph token punctuation">}</span>
                        <span class="ph token keyword">else</span>
                        <span class="ph token punctuation">{</span>
                            <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Error in last received message"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                        <span class="ph token punctuation">}</span>
                    <span class="ph token punctuation">}</span>
                <span class="ph token punctuation">}</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token keyword">default</span><span class="ph token operator">:</span>
                <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Invalid Input \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
        <span class="ph token punctuation">}</span>
        
        <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
        
    <span class="ph token punctuation">}</span>

    <span class="ph token comment">/* Execution should not come here during normal operation */</span>

    <span class="ph token keyword">return</span> <span class="ph token punctuation">(</span> EXIT_FAILURE <span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
<span class="ph token punctuation">}</span></code></pre><p class="p"><strong class="ph b">CAN normal operation with interrupt</strong></p>
<p class="p">The following example shows the CAN normal mode operation with
interrupt implementation.</p>
<pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d936653e1094', this);">Copy</button><code id="d936653e1094" content="#include &lt;stddef.h&gt;                     // Defines NULL&#xA;#include &lt;stdbool.h&gt;                    // Defines true&#xA;#include &lt;stdlib.h&gt;                     // Defines EXIT_FAILURE&#xA;#include &#34;definitions.h&#34;                // SYS function prototypes&#xA;&#xA;/* Application's state machine enum */&#xA;typedef enum&#xA;{&#xA;    APP_STATE_CAN_RECEIVE,&#xA;    APP_STATE_CAN_TRANSMIT,&#xA;    APP_STATE_CAN_IDLE,&#xA;    APP_STATE_CAN_USER_INPUT,&#xA;    APP_STATE_CAN_XFER_SUCCESSFUL,&#xA;    APP_STATE_CAN_XFER_ERROR&#xA;} APP_STATES;&#xA;&#xA;/* LED Toggle */&#xA;#define LED_Toggle() LED_GREEN_Toggle()&#xA;&#xA;/* Variable to save application state */&#xA;static APP_STATES state = APP_STATE_CAN_USER_INPUT;&#xA;/* Variable to save Tx/Rx transfer status and context */&#xA;static uint32_t status = 0;&#xA;static uint32_t xferContext = 0;&#xA;/* Variable to save Tx/Rx message */&#xA;static uint32_t messageID = 0;&#xA;static uint8_t message[8];&#xA;static uint8_t messageLength = 0;&#xA;static uint8_t rx_message[8];&#xA;static uint32_t rx_messageID = 0;&#xA;static uint8_t rx_messageLength = 0;&#xA;static CAN_MSG_RX_ATTRIBUTE msgAttr = CAN_MSG_RX_DATA_FRAME;&#xA;&#xA;// *****************************************************************************&#xA;// *****************************************************************************&#xA;// Section: Local functions&#xA;// *****************************************************************************&#xA;// *****************************************************************************&#xA;&#xA;/* This function will be called by CAN PLIB when transfer is completed */&#xA;// *****************************************************************************&#xA;/* void APP_CAN_Callback(uintptr_t context)&#xA;&#xA;  Summary:&#xA;    Function called by CAN PLIB upon transfer completion&#xA;&#xA;  Description:&#xA;    This function will be called by CAN PLIB when transfer is completed.&#xA;    In this function, current state of the application is obtained by context&#xA;    parameter. Based on current state of the application and CAN error&#xA;    state, next state of the application is decided.&#xA;&#xA;  Remarks:&#xA;    None.&#xA;*/&#xA;void APP_CAN_Callback(uintptr_t context)&#xA;{&#xA;    xferContext = context;&#xA;&#xA;    /* Check CAN Status */&#xA;    status = CAN1_ErrorGet();&#xA;&#xA;    if ((status &amp; (CAN_ERROR_BOFF | CAN_ERROR_CERR |&#xA;                   CAN_ERROR_SERR | CAN_ERROR_AERR |&#xA;                   CAN_ERROR_FERR | CAN_ERROR_BERR)) == CAN_ERROR_NONE)&#xA;    {&#xA;        switch ((APP_STATES)context)&#xA;        {&#xA;            case APP_STATE_CAN_RECEIVE:&#xA;            case APP_STATE_CAN_TRANSMIT:&#xA;            {&#xA;                state = APP_STATE_CAN_XFER_SUCCESSFUL;&#xA;                break;&#xA;            }&#xA;            default:&#xA;                break;&#xA;        }&#xA;    }&#xA;    else&#xA;    {&#xA;        state = APP_STATE_CAN_XFER_ERROR;&#xA;    }&#xA;}&#xA;&#xA;void print_menu(void)&#xA;{&#xA;    printf(&#34; ------------------------------ \r\n&#34;);   &#xA;    printf(&#34; Press '1' to Transmit message \r\n&#34;);&#xA;    printf(&#34; Press '2' to Receive message \r\n&#34;);&#xA;}&#xA;&#xA;// *****************************************************************************&#xA;// *****************************************************************************&#xA;// Section: Main Entry Point&#xA;// *****************************************************************************&#xA;// *****************************************************************************&#xA;&#xA;int main ( void )&#xA;{&#xA;    uint8_t user_input = 0;&#xA;    &#xA;    /* Initialize all modules */&#xA;    SYS_Initialize ( NULL );&#xA;&#xA;    LED_RED_Clear();&#xA;    LED_GREEN_Clear();&#xA;    LED_BLUE_Clear();&#xA;&#xA;    printf(&#34; ------------------------------ \r\n&#34;);&#xA;    printf(&#34;            CAN Demo            \r\n&#34;);&#xA;    printf(&#34; ------------------------------ \r\n&#34;);&#xA;    &#xA;    print_menu();&#xA;    &#xA;    /* Prepare the message to send*/&#xA;    messageID = 0x469;&#xA;    messageLength = 8;&#xA;    for (uint8_t count = 8; count &gt;=1; count--){&#xA;        message[count - 1] = count;&#xA;    }&#xA;    &#xA;    while ( true )&#xA;    {&#xA;        if (state == APP_STATE_CAN_USER_INPUT)&#xA;        {&#xA;            /* Read user input */&#xA;            scanf(&#34;%c&#34;, (char *) &amp;user_input);&#xA;            &#xA;            switch (user_input)&#xA;            {&#xA;                case '1': &#xA;                    printf(&#34; Transmitting Message:&#34;);&#xA;                    CAN1_TxCallbackRegister( APP_CAN_Callback, (uintptr_t)APP_STATE_CAN_TRANSMIT, CAN_MAILBOX_DATA_FRAME_TX );&#xA;                    state = APP_STATE_CAN_IDLE;&#xA;                    if (CAN1_MessageTransmit(messageID, messageLength, message, CAN_MAILBOX_DATA_FRAME_TX) == false)&#xA;                    {&#xA;                        printf(&#34;CAN1_MessageTransmit request has failed\r\n&#34;);&#xA;                    }             &#xA;                    break;&#xA;                case '2':&#xA;                    printf(&#34; Waiting for message: \r\n&#34;);&#xA;                    CAN1_RxCallbackRegister( APP_CAN_Callback, (uintptr_t)APP_STATE_CAN_RECEIVE, CAN_MAILBOX_DATA_FRAME_RX_OVERWRITE );&#xA;                    state = APP_STATE_CAN_IDLE;&#xA;                    memset(rx_message, 0x00, sizeof(rx_message));&#xA;                    /* Receive New Message */&#xA;                    if (CAN1_MessageReceive(&amp;rx_messageID, &amp;rx_messageLength, rx_message, 0, CAN_MAILBOX_DATA_FRAME_RX_OVERWRITE, &amp;msgAttr) == false)  &#xA;                    {&#xA;                        printf(&#34;CAN1_MessageReceive request has failed\r\n&#34;);&#xA;                    }&#xA;                    break;&#xA;                default:&#xA;                    printf(&#34; Invalid Input \r\n&#34;);&#xA;                    break;&#xA;            }&#xA;        }&#xA;        /* Check the application's current state. */&#xA;        switch (state)&#xA;        {&#xA;            case APP_STATE_CAN_IDLE:&#xA;            {&#xA;                /* Application can do other task here */&#xA;                break;&#xA;            }&#xA;            case APP_STATE_CAN_XFER_SUCCESSFUL:&#xA;            {&#xA;                if ((APP_STATES)xferContext == APP_STATE_CAN_RECEIVE)&#xA;                {&#xA;                    /* Print message to Console */&#xA;                    printf(&#34; New Message Received    \r\n&#34;);&#xA;                    uint8_t length = rx_messageLength;&#xA;                    printf(&#34; Message - ID : 0x%x Length : 0x%x &#34;, (unsigned int) rx_messageID,(unsigned int) rx_messageLength);&#xA;                    printf(&#34;Message : &#34;);&#xA;                    while(length)&#xA;                    {&#xA;                        printf(&#34;0x%x &#34;, rx_message[rx_messageLength - length--]);&#xA;                    }&#xA;                    printf(&#34;\r\n&#34;);&#xA;                } &#xA;                else if ((APP_STATES)xferContext == APP_STATE_CAN_TRANSMIT)&#xA;                {&#xA;                    printf(&#34;Success \r\n&#34;);&#xA;                }&#xA;                LED_Toggle();&#xA;                print_menu();&#xA;                state = APP_STATE_CAN_USER_INPUT;&#xA;                break;&#xA;            }&#xA;            case APP_STATE_CAN_XFER_ERROR:&#xA;            {&#xA;                if ((APP_STATES)xferContext == APP_STATE_CAN_RECEIVE)&#xA;                {&#xA;                    printf(&#34;Error in received message&#34;);&#xA;                }&#xA;                else&#xA;                {&#xA;                    printf(&#34;Failed \r\n&#34;);&#xA;                }&#xA;                print_menu();&#xA;                state = APP_STATE_CAN_USER_INPUT;&#xA;                break;&#xA;            }&#xA;            default:&#xA;                break;&#xA;        }&#xA;        &#xA;    }&#xA;&#xA;    /* Execution should not come here during normal operation */&#xA;&#xA;    return ( EXIT_FAILURE );&#xA;}"><span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">&lt;stddef.h&gt;</span>                     </span><span class="ph token comment">// Defines NULL</span>
<span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">&lt;stdbool.h&gt;</span>                    </span><span class="ph token comment">// Defines true</span>
<span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">&lt;stdlib.h&gt;</span>                     </span><span class="ph token comment">// Defines EXIT_FAILURE</span>
<span class="ph token macro property">#<span class="ph token directive keyword">include</span> <span class="ph token string">"definitions.h"</span>                </span><span class="ph token comment">// SYS function prototypes</span>

<span class="ph token comment">/* Application's state machine enum */</span>
<span class="ph token keyword">typedef</span> <span class="ph token keyword">enum</span>
<span class="ph token punctuation">{</span>
    APP_STATE_CAN_RECEIVE<span class="ph token punctuation">,</span>
    APP_STATE_CAN_TRANSMIT<span class="ph token punctuation">,</span>
    APP_STATE_CAN_IDLE<span class="ph token punctuation">,</span>
    APP_STATE_CAN_USER_INPUT<span class="ph token punctuation">,</span>
    APP_STATE_CAN_XFER_SUCCESSFUL<span class="ph token punctuation">,</span>
    APP_STATE_CAN_XFER_ERROR
<span class="ph token punctuation">}</span> APP_STATES<span class="ph token punctuation">;</span>

<span class="ph token comment">/* LED Toggle */</span>
<span class="ph token macro property">#<span class="ph token directive keyword">define</span> LED_Toggle() LED_GREEN_Toggle()</span>

<span class="ph token comment">/* Variable to save application state */</span>
<span class="ph token keyword">static</span> APP_STATES state <span class="ph token operator">=</span> APP_STATE_CAN_USER_INPUT<span class="ph token punctuation">;</span>
<span class="ph token comment">/* Variable to save Tx/Rx transfer status and context */</span>
<span class="ph token keyword">static</span> uint32_t status <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> uint32_t xferContext <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
<span class="ph token comment">/* Variable to save Tx/Rx message */</span>
<span class="ph token keyword">static</span> uint32_t messageID <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> uint8_t message<span class="ph token punctuation">[</span><span class="ph token number">8</span><span class="ph token punctuation">]</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> uint8_t messageLength <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> uint8_t rx_message<span class="ph token punctuation">[</span><span class="ph token number">8</span><span class="ph token punctuation">]</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> uint32_t rx_messageID <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> uint8_t rx_messageLength <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
<span class="ph token keyword">static</span> CAN_MSG_RX_ATTRIBUTE msgAttr <span class="ph token operator">=</span> CAN_MSG_RX_DATA_FRAME<span class="ph token punctuation">;</span>

<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// Section: Local functions</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// *****************************************************************************</span>

<span class="ph token comment">/* This function will be called by CAN PLIB when transfer is completed */</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">/* void APP_CAN_Callback(uintptr_t context)

  Summary:
    Function called by CAN PLIB upon transfer completion

  Description:
    This function will be called by CAN PLIB when transfer is completed.
    In this function, current state of the application is obtained by context
    parameter. Based on current state of the application and CAN error
    state, next state of the application is decided.

  Remarks:
    None.
*/</span>
<span class="ph token keyword">void</span> <span class="ph token function">APP_CAN_Callback</span><span class="ph token punctuation">(</span>uintptr_t context<span class="ph token punctuation">)</span>
<span class="ph token punctuation">{</span>
    xferContext <span class="ph token operator">=</span> context<span class="ph token punctuation">;</span>

    <span class="ph token comment">/* Check CAN Status */</span>
    status <span class="ph token operator">=</span> <span class="ph token function">CAN1_ErrorGet</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

    <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>status <span class="ph token operator">&amp;</span> <span class="ph token punctuation">(</span>CAN_ERROR_BOFF <span class="ph token operator">|</span> CAN_ERROR_CERR <span class="ph token operator">|</span>
                   CAN_ERROR_SERR <span class="ph token operator">|</span> CAN_ERROR_AERR <span class="ph token operator">|</span>
                   CAN_ERROR_FERR <span class="ph token operator">|</span> CAN_ERROR_BERR<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span> <span class="ph token operator">==</span> CAN_ERROR_NONE<span class="ph token punctuation">)</span>
    <span class="ph token punctuation">{</span>
        <span class="ph token keyword">switch</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>APP_STATES<span class="ph token punctuation">)</span>context<span class="ph token punctuation">)</span>
        <span class="ph token punctuation">{</span>
            <span class="ph token keyword">case</span> APP_STATE_CAN_RECEIVE<span class="ph token operator">:</span>
            <span class="ph token keyword">case</span> APP_STATE_CAN_TRANSMIT<span class="ph token operator">:</span>
            <span class="ph token punctuation">{</span>
                state <span class="ph token operator">=</span> APP_STATE_CAN_XFER_SUCCESSFUL<span class="ph token punctuation">;</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token punctuation">}</span>
            <span class="ph token keyword">default</span><span class="ph token operator">:</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
        <span class="ph token punctuation">}</span>
    <span class="ph token punctuation">}</span>
    <span class="ph token keyword">else</span>
    <span class="ph token punctuation">{</span>
        state <span class="ph token operator">=</span> APP_STATE_CAN_XFER_ERROR<span class="ph token punctuation">;</span>
    <span class="ph token punctuation">}</span>
<span class="ph token punctuation">}</span>

<span class="ph token keyword">void</span> <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token keyword">void</span><span class="ph token punctuation">)</span>
<span class="ph token punctuation">{</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" ------------------------------ \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>   
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Press '1' to Transmit message \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Press '2' to Receive message \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
<span class="ph token punctuation">}</span>

<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// Section: Main Entry Point</span>
<span class="ph token comment">// *****************************************************************************</span>
<span class="ph token comment">// *****************************************************************************</span>

<span class="ph token keyword">int</span> main <span class="ph token punctuation">(</span> <span class="ph token keyword">void</span> <span class="ph token punctuation">)</span>
<span class="ph token punctuation">{</span>
    uint8_t user_input <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
    
    <span class="ph token comment">/* Initialize all modules */</span>
    SYS_Initialize <span class="ph token punctuation">(</span> <span class="ph token constant">NULL</span> <span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

    <span class="ph token function">LED_RED_Clear</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">LED_GREEN_Clear</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">LED_BLUE_Clear</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>

    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" ------------------------------ \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"            CAN Demo            \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" ------------------------------ \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    
    <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    
    <span class="ph token comment">/* Prepare the message to send*/</span>
    messageID <span class="ph token operator">=</span> <span class="ph token number">0x469</span><span class="ph token punctuation">;</span>
    messageLength <span class="ph token operator">=</span> <span class="ph token number">8</span><span class="ph token punctuation">;</span>
    <span class="ph token keyword">for</span> <span class="ph token punctuation">(</span>uint8_t count <span class="ph token operator">=</span> <span class="ph token number">8</span><span class="ph token punctuation">;</span> count <span class="ph token operator">&gt;=</span><span class="ph token number">1</span><span class="ph token punctuation">;</span> count<span class="ph token operator">--</span><span class="ph token punctuation">)</span><span class="ph token punctuation">{</span>
        message<span class="ph token punctuation">[</span>count <span class="ph token operator">-</span> <span class="ph token number">1</span><span class="ph token punctuation">]</span> <span class="ph token operator">=</span> count<span class="ph token punctuation">;</span>
    <span class="ph token punctuation">}</span>
    
    <span class="ph token keyword">while</span> <span class="ph token punctuation">(</span> true <span class="ph token punctuation">)</span>
    <span class="ph token punctuation">{</span>
        <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span>state <span class="ph token operator">==</span> APP_STATE_CAN_USER_INPUT<span class="ph token punctuation">)</span>
        <span class="ph token punctuation">{</span>
            <span class="ph token comment">/* Read user input */</span>
            <span class="ph token function">scanf</span><span class="ph token punctuation">(</span><span class="ph token string">"%c"</span><span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span><span class="ph token keyword">char</span> <span class="ph token operator">*</span><span class="ph token punctuation">)</span> <span class="ph token operator">&amp;</span>user_input<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
            
            <span class="ph token keyword">switch</span> <span class="ph token punctuation">(</span>user_input<span class="ph token punctuation">)</span>
            <span class="ph token punctuation">{</span>
                <span class="ph token keyword">case</span> <span class="ph token string">'1'</span><span class="ph token operator">:</span> 
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Transmitting Message:"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token function">CAN1_TxCallbackRegister</span><span class="ph token punctuation">(</span> APP_CAN_Callback<span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span>uintptr_t<span class="ph token punctuation">)</span>APP_STATE_CAN_TRANSMIT<span class="ph token punctuation">,</span> CAN_MAILBOX_DATA_FRAME_TX <span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    state <span class="ph token operator">=</span> APP_STATE_CAN_IDLE<span class="ph token punctuation">;</span>
                    <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token function">CAN1_MessageTransmit</span><span class="ph token punctuation">(</span>messageID<span class="ph token punctuation">,</span> messageLength<span class="ph token punctuation">,</span> message<span class="ph token punctuation">,</span> CAN_MAILBOX_DATA_FRAME_TX<span class="ph token punctuation">)</span> <span class="ph token operator">==</span> false<span class="ph token punctuation">)</span>
                    <span class="ph token punctuation">{</span>
                        <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"CAN1_MessageTransmit request has failed\r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token punctuation">}</span>             
                    <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
                <span class="ph token keyword">case</span> <span class="ph token string">'2'</span><span class="ph token operator">:</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Waiting for message: \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token function">CAN1_RxCallbackRegister</span><span class="ph token punctuation">(</span> APP_CAN_Callback<span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span>uintptr_t<span class="ph token punctuation">)</span>APP_STATE_CAN_RECEIVE<span class="ph token punctuation">,</span> CAN_MAILBOX_DATA_FRAME_RX_OVERWRITE <span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    state <span class="ph token operator">=</span> APP_STATE_CAN_IDLE<span class="ph token punctuation">;</span>
                    <span class="ph token function">memset</span><span class="ph token punctuation">(</span>rx_message<span class="ph token punctuation">,</span> <span class="ph token number">0x00</span><span class="ph token punctuation">,</span> <span class="ph token keyword">sizeof</span><span class="ph token punctuation">(</span>rx_message<span class="ph token punctuation">)</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token comment">/* Receive New Message */</span>
                    <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token function">CAN1_MessageReceive</span><span class="ph token punctuation">(</span><span class="ph token operator">&amp;</span>rx_messageID<span class="ph token punctuation">,</span> <span class="ph token operator">&amp;</span>rx_messageLength<span class="ph token punctuation">,</span> rx_message<span class="ph token punctuation">,</span> <span class="ph token number">0</span><span class="ph token punctuation">,</span> CAN_MAILBOX_DATA_FRAME_RX_OVERWRITE<span class="ph token punctuation">,</span> <span class="ph token operator">&amp;</span>msgAttr<span class="ph token punctuation">)</span> <span class="ph token operator">==</span> false<span class="ph token punctuation">)</span>  
                    <span class="ph token punctuation">{</span>
                        <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"CAN1_MessageReceive request has failed\r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token punctuation">}</span>
                    <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
                <span class="ph token keyword">default</span><span class="ph token operator">:</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Invalid Input \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token punctuation">}</span>
        <span class="ph token punctuation">}</span>
        <span class="ph token comment">/* Check the application's current state. */</span>
        <span class="ph token keyword">switch</span> <span class="ph token punctuation">(</span>state<span class="ph token punctuation">)</span>
        <span class="ph token punctuation">{</span>
            <span class="ph token keyword">case</span> APP_STATE_CAN_IDLE<span class="ph token operator">:</span>
            <span class="ph token punctuation">{</span>
                <span class="ph token comment">/* Application can do other task here */</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token punctuation">}</span>
            <span class="ph token keyword">case</span> APP_STATE_CAN_XFER_SUCCESSFUL<span class="ph token operator">:</span>
            <span class="ph token punctuation">{</span>
                <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>APP_STATES<span class="ph token punctuation">)</span>xferContext <span class="ph token operator">==</span> APP_STATE_CAN_RECEIVE<span class="ph token punctuation">)</span>
                <span class="ph token punctuation">{</span>
                    <span class="ph token comment">/* Print message to Console */</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" New Message Received    \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    uint8_t length <span class="ph token operator">=</span> rx_messageLength<span class="ph token punctuation">;</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">" Message - ID : 0x%x Length : 0x%x "</span><span class="ph token punctuation">,</span> <span class="ph token punctuation">(</span><span class="ph token keyword">unsigned</span> <span class="ph token keyword">int</span><span class="ph token punctuation">)</span> rx_messageID<span class="ph token punctuation">,</span><span class="ph token punctuation">(</span><span class="ph token keyword">unsigned</span> <span class="ph token keyword">int</span><span class="ph token punctuation">)</span> rx_messageLength<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Message : "</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token keyword">while</span><span class="ph token punctuation">(</span>length<span class="ph token punctuation">)</span>
                    <span class="ph token punctuation">{</span>
                        <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"0x%x "</span><span class="ph token punctuation">,</span> rx_message<span class="ph token punctuation">[</span>rx_messageLength <span class="ph token operator">-</span> length<span class="ph token operator">--</span><span class="ph token punctuation">]</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                    <span class="ph token punctuation">}</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"\r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token punctuation">}</span> 
                <span class="ph token keyword">else</span> <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>APP_STATES<span class="ph token punctuation">)</span>xferContext <span class="ph token operator">==</span> APP_STATE_CAN_TRANSMIT<span class="ph token punctuation">)</span>
                <span class="ph token punctuation">{</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Success \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token punctuation">}</span>
                <span class="ph token function">LED_Toggle</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                state <span class="ph token operator">=</span> APP_STATE_CAN_USER_INPUT<span class="ph token punctuation">;</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token punctuation">}</span>
            <span class="ph token keyword">case</span> APP_STATE_CAN_XFER_ERROR<span class="ph token operator">:</span>
            <span class="ph token punctuation">{</span>
                <span class="ph token keyword">if</span> <span class="ph token punctuation">(</span><span class="ph token punctuation">(</span>APP_STATES<span class="ph token punctuation">)</span>xferContext <span class="ph token operator">==</span> APP_STATE_CAN_RECEIVE<span class="ph token punctuation">)</span>
                <span class="ph token punctuation">{</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Error in received message"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token punctuation">}</span>
                <span class="ph token keyword">else</span>
                <span class="ph token punctuation">{</span>
                    <span class="ph token function">printf</span><span class="ph token punctuation">(</span><span class="ph token string">"Failed \r\n"</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                <span class="ph token punctuation">}</span>
                <span class="ph token function">print_menu</span><span class="ph token punctuation">(</span><span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
                state <span class="ph token operator">=</span> APP_STATE_CAN_USER_INPUT<span class="ph token punctuation">;</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
            <span class="ph token punctuation">}</span>
            <span class="ph token keyword">default</span><span class="ph token operator">:</span>
                <span class="ph token keyword">break</span><span class="ph token punctuation">;</span>
        <span class="ph token punctuation">}</span>
        
    <span class="ph token punctuation">}</span>

    <span class="ph token comment">/* Execution should not come here during normal operation */</span>

    <span class="ph token keyword">return</span> <span class="ph token punctuation">(</span> EXIT_FAILURE <span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
<span class="ph token punctuation">}</span></code></pre><p class="p"><strong class="ph b">Library Interface</strong></p>
<p class="p">Controller Area Network peripheral library provides the following interfaces:</p>
<p class="p"><strong class="ph b">Functions</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d936653e2507"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d936653e2509"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_Initialize</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Initializes given instance of the CAN peripheral</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageTransmit</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Transmits a message into CAN bus</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageReceive</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Receives a message from CAN bus</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageAbort</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Abort request for a Mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageIDSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Set Message ID in mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageIDGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Get Message ID from mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageAcceptanceMaskSet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Set Message acceptance identifier mask in mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageAcceptanceMaskGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Get Message acceptance identifier mask from mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MessageTimestampGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Get the message timestamp from a mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_ErrorGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Returns the error during transfer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_ErrorCountGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Returns the transmit and receive error count during transfer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_InterruptGet</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Returns the Interrupt status</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_InterruptEnable</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Enables CAN Interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_InterruptDisable</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Disables CAN Interrupt</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_MailboxIsReady</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Returns true if Mailbox is ready otherwise false</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_TxCallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Sets the pointer to the function (and it's context) to be called when the given CAN's Tx transfer events occur</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2507 "><span>CANx_RxCallbackRegister</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2509 "><span>Sets the pointer to the function (and it's context) to be called when the given CAN's Rx transfer events occur</span></td>
</tr>
</tbody>
</table>
</div>
<p class="p"><strong class="ph b">Data types and constants</strong></p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d936653e2608"><span>Name</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d936653e2610"><span>Type</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d936653e2612"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MAILBOX_TX_ATTRIBUTE</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Mailbox TX Attribute for Transmit mailbox, Producer Tx Mailbox and Consumer Tx Mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MAILBOX_RX_ATTRIBUTE</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Mailbox RX Attribute for Reception Mailbox, Reception Mailbox with overwrite, Consumer Rx Mailbox and Producer Rx Mailbox</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MSG_RX_ATTRIBUTE</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Message RX Attribute for Data Frame and Remote Frame</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MAILBOX_NUM</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Mailbox Number</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MAILBOX_MASK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Mailbox Mask</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_ERROR</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Transfer Error data type</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_INTERRUPT_MASK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Interrupt Mask</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MAILBOX_STATE</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Enum</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Mailbox State</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Typedef</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN Callback Function Pointer</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_RX_MSG</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Struct</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN PLib Object structure</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2608 "><span>CAN_MAILBOX_CALLBACK</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2610 "><span>Struct</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d936653e2612 "><span>CAN transfer event callback structure</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</body>
</html>